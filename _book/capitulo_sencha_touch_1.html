<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>Sencha Touch 1. Introducción | Introducción</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="./capitulo_sencha_touch_2.html" />
    
    
    <link rel="prev" href="./capitulo_jquery_mobile_avanzado.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">


        
    <div class="book"  data-level="7" data-basepath="." data-revision="1422271212353">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introducción
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="capitulo_introduccion_web.html">
            
                
                    <a href="./capitulo_introduccion_web.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Introducción al desarrollo Web
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="capitulo_introduccion_javascript.html">
            
                
                    <a href="./capitulo_introduccion_javascript.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Introducción a JavaScript
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="capitulo_diseno_responsive.html">
            
                
                    <a href="./capitulo_diseno_responsive.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Diseño Responsive
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="capitulo_diseno_responsive_avanzado.html">
            
                
                    <a href="./capitulo_diseno_responsive_avanzado.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Diseño Responsive avanzado
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="capitulo_jquery_mobile.html">
            
                
                    <a href="./capitulo_jquery_mobile.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         JQuery Mobile
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="capitulo_jquery_mobile_avanzado.html">
            
                
                    <a href="./capitulo_jquery_mobile_avanzado.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         JQuery Mobile avanzado
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="7" data-path="capitulo_sencha_touch_1.html">
            
                
                    <a href="./capitulo_sencha_touch_1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Sencha Touch 1. Introducción
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="8" data-path="capitulo_sencha_touch_2.html">
            
                
                    <a href="./capitulo_sencha_touch_2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         Sencha Touch 2. Componentes
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="9" data-path="capitulo_sencha_touch_3.html">
            
                
                    <a href="./capitulo_sencha_touch_3.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                         Sencha Touch 3. Almacenamiento
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="10" data-path="capitulo_phonegap.html">
            
                
                    <a href="./capitulo_phonegap.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                         PhoneGap 1. Introducción
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11" data-path="capitulo_phonegap_avanzado.html">
            
                
                    <a href="./capitulo_phonegap_avanzado.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                         PhoneGap 2. Avanzado
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="12" data-path="capitulo_laravel_1.html">
            
                
                    <a href="./capitulo_laravel_1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                         Laravel 1. Introducción
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="13" data-path="capitulo_laravel_2.html">
            
                
                    <a href="./capitulo_laravel_2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                         Laravel 2. Controladores, filtros y formularios
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="14" data-path="capitulo_laravel_3.html">
            
                
                    <a href="./capitulo_laravel_3.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                         Laravel 3. Base de datos
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="15" data-path="capitulo_laravel_4.html">
            
                
                    <a href="./capitulo_laravel_4.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                         Laravel 4. Datos de entrada y control de usuarios
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="16" data-path="capitulo_laravel_5.html">
            
                
                    <a href="./capitulo_laravel_5.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                         Laravel 5. Paquetes, Rest y Curl
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="17" data-path="capitulo_rest.html">
            
                
                    <a href="./capitulo_rest.html">
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                         Servicios Rest
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Introducción</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_17">
                    
                        <h1 id="sencha-touch-1---introduccin">Sencha Touch 1 - Introducción</h1>
<!-- ********************************************************************* -->
<h2 id="introduccin">Introducción</h2>
<p>Sencha Touch es un framework para el desarrollo de aplicaciones móviles centrado en WebKit (base de los navegadores web Safari, Google Chrome, Epiphany, Maxthon, y Midori entre otros). Fue el primer framework basado en HTML5 y JavaScript, además utiliza CSS3 para realizar animaciones. La apariencia de las aplicaciones desarrolladas es similar al de las aplicaciones nativas en Android, BlackBerry e iOS. Sencha Touch está disponible tanto en versión con licencia comercial como con licencia Open Source GPL v3.</p>
<p><img src="images/web_sencha/sencha_logo.jpg" alt=""></p>
<p>Una de las principales ventajas de Sencha Touch es la cantidad de controles IU o elementos de interfaz que incluye, todos ellos muy fáciles de usar y personalizar. Ha sido diseñado específicamente para dispositivos táctiles por lo que incluye una amplia gama de eventos táctiles o <em>gestures</em>, que comúnmente son usados en este tipo de dispositivos. Además de los eventos estándares como <em>touchstart</em> o <em>touchend</em>, han añadido una extensa lista de eventos como <em>tap</em>, <em>double tap</em>, <em>tap and hold</em>, <em>swipe</em>, <em>rotate</em> o <em>drag and drop</em>.</p>
<p><img src="images/web_sencha/sencha_selection_007.jpg" alt=""></p>
<p><strong>Interoperabilidad con PhoneGap</strong></p>
<p>Sencha Touch funciona perfectamente junto a <em>PhoneGap</em> (ver capítulo correspondiente), por lo que puede ser usado para distribuir nuestras aplicaciones en la <em>App Store</em> o en <em>Android Market</em>. Se basa en el uso de un mecanismo que empotra nuestra aplicación en una <em>shell</em> nativa de la forma más sencilla posible. Además, gracias a <em>PhoneGap</em> podemos hacer uso de la API nativa del dispositivo para acceder a la lista de contactos, la cámara y muchas otras opciones directamente desde JavaScript.</p>
<p><strong>Integración de datos</strong></p>
<p>Al igual que con <em>ExtJS</em> (biblioteca de JavaScript para el desarrollo de aplicaciones web interactivas), Sencha Touch implementa el patrón de diseño MVC en el lado del cliente y nos ofrece una API rica y poderosa para manejar flujos de datos desde una increíble variedad de fuentes. Podemos leer datos directamente a través de AJAX, JSON, YQL o la nueva capacidad <em>local storage</em> de HTML5. Podemos enlazar esos datos a elementos específicos de nuestras vistas, y utilizar los datos sin conexión gracias a los almacenes locales.</p>
<!-- ********************************************************************* -->
<h2 id="sencha-touch-vs-jquery-mobile">Sencha Touch vs. JQuery Mobile</h2>
<p>A continuación se enumeran las principales diferencias entre Sencha Touch y JQuery Mobile:</p>
<p>Sencha Touch:</p>
<ul>
<li><p>Tiene una curva de aprendizaje mucho mayor y necesita una mayor comprensión del lenguaje de programación JavaScript, pero gracias a esto proporciona una API mucho más potente.</p>
</li>
<li><p>Dispone de un mayor número de controles para la interfaz de usuario, así como efectos de transición y animaciones entre páginas mucho más personalizables.</p>
</li>
<li><p>Más rápido en mayor número de dispositivos móviles (en Android a partir de la versión 2.1). El comportamiento y velocidad de Sencha Touch es mucho mejor que el de otros frameworks, a excepción del tiempo de carga inicial, pues JQuery Mobile pesa menos.</p>
</li>
<li><p>Al estar basado en ExtJS (usan el mismo núcleo), es muy robusto y potente, además de ser un framework ampliamente probado y usado (también debido a que fue uno de los primeros en aparecer).</p>
</li>
<li><p>Al igual que en ExtJS, y en comparación con JQuery Mobile, se escribe mucho código. Esto podría ser tomado como un pro o como un contra. Es bueno porque indica una mayor potencia de configuración y personalización, pero por contra conlleva más tiempo de desarrollo y de aprendizaje.</p>
</li>
</ul>
<p>JQuery Mobile:</p>
<ul>
<li><p>Muy sencillo de aprender y de implementar aplicaciones.</p>
</li>
<li><p>Es necesario escribir muy poco código (y casi no se usa JavaScript) para lograr aplicaciones móviles muy interesantes. En lugar de orientarse a la programación JavaScript, JQuery Mobile se centra en usar etiquetas HTML con atributos definidos por el framework.</p>
</li>
<li><p>No dispone de muchos controles para el diseño de la interfaz.</p>
</li>
<li><p>Tiene una ejecución algo más lenta que Sencha Touch.</p>
</li>
<li><p>Al estar basado en un framework muy desarrollado, como es JQuery, funciona correctamente en un mayor número de dispositivos móviles y de navegadores, como Symbian, Android, iOS, Blackberry, Window Phone 7 o WebOS.</p>
</li>
</ul>
<p>Ambos frameworks son buenas opciones para el desarrollo de aplicaciones móviles. Los dos utilizan HTML5, JavaScript e integran la tecnología AJAX. La decisión dependerá de las necesidades de la aplicación a desarrollar. En principio, Sencha Touch es más apropiado para aplicaciones grandes, que necesiten de mayor personalización o configuración y que vayan a hacer un mayor uso del lenguaje de programación JavaScript. JQuery Mobile se suele utilizar para aplicaciones en las que se necesite una interfaz de usuario que conecte directamente con un servidor y que haga un menor uso de JavaScript.</p>
<!-- ********************************************************************* -->
<h2 id="instalar-sencha-touch">Instalar Sencha Touch</h2>
<p>En primer lugar descargamos el SDK de Sencha Touch desde su página Web &quot;<a href="http://www.sencha.com/products/touch/download/">http://www.sencha.com/products/touch/download/</a>&quot;. Se nos descargará un fichero comprimido con ZIP (llamado algo como &quot;sencha-touch-VERSION.zip&quot;), que descomprimiremos en una carpeta.</p>
<p>A continuación tenemos que instalar el Cmd de Sencha, el cual descargamos desde <a href="http://www.sencha.com/products/sencha-cmd/download/">http://www.sencha.com/products/sencha-cmd/download/</a>, lo descomprimimos e instalamos mediante el <em>wizard</em> que incorpora. Una vez instalado ya tendremos disponible desde la consola el ejecutable <code>sencha</code> para crear aplicaciones y gestionarlas.</p>
<blockquote>
<p>Nota: si el comando <code>sencha</code> fallara por cuestiones de permisos en Linux tendremos que reinstalar como un usuario normal en vez de como _root.</p>
</blockquote>
<!-- ********************************************************************* -->
<h2 id="crear-nuestra-primera-aplicacin">Crear nuestra primera aplicación</h2>
<p>Una vez instalado Sencha Touch y Sencha Cmd ya podemos crear nuestra primera aplicación. Para ello crearemos una nueva carpeta para la aplicación y entraremos en ella:</p>
<pre><code class="lang-bash">mkdir myapp
<span class="hljs-built_in">cd</span> myapp
</code></pre>
<p>Y a continuación ejecutaremos el comando:</p>
<pre><code class="lang-bash">sencha -sdk /path/to/touch generate app MyApp .
</code></pre>
<p>Esto generará el esqueleto de una nueva aplicación de Sencha Touch en el directorio actual, con todas los ficheros que vamos a necesitar incluyendo un documento <code>index.html</code> inicial, una copia del SDK de Sencha Touch, las hojas de estilo, imágenes y ficheros de configuración.</p>
<p>Una vez creada la aplicación podemos comprobar que funcione correctamente de varias formas:</p>
<ul>
<li>Abriendo directamente el fichero <code>index.html</code>, la mayoría de aplicaciones básicas las podremos probar de esta forma.</li>
<li>Copiando nuestro proyecto a un servidor web y accediendo al proyecto a través de la dirección: <a href="http://localhost/MyApp" target="_blank">http://localhost/MyApp</a></li>
<li>Usando el servidor Web que proporciona el Cmd de Sencha. Para activarlo tenemos que ir a la carpeta de nuestra aplicación y en un terminal ejecutar <code>sencha web start &amp;</code>. Para acceder en este caso tendremos que usar la ruta: <code>http://localhost:1841/</code></li>
</ul>
<p><img src="images/web_sencha/sencha_first_app.png" alt=""></p>
<p>Sencha Touch solo funciona con navegadores basados en WebKit, como son: Safari, Google Chrome, Epiphany, Maxthon o Midori. Si lo probamos en un navegador que no lo soporte, como Firefox o Internet Explorer, solamente veremos una página en blanco o un resultado erróneo. Por lo tanto para probar nuestros proyectos Web tendremos que instalar uno de los navegadores soportados, como Google Chrome (<a href="http://www.google.es/chrome">http://www.google.es/chrome</a>) o Apple Safari (<a href="http://www.apple.com/es/safari/">http://www.apple.com/es/safari/</a>).</p>
<p>Aunque la mayoría de webs que podemos hacer con Sencha Touch se podrían ejecutar y visualizar directamente sin necesidad de un servidor Web, sí que será necesario su uso si queremos probar nuestros proyectos utilizando algún emulador o un dispositivo móvil real.</p>
<p>En la sección inicial de &quot;Instalación de un servidor Web&quot; se puede encontrar información sobre la instalación de un emulador móvil o la configuración para el acceso externo mediante un dispositivo móvil real.</p>
<!-- ********************************************************************* -->
<h2 id="estructura-de-carpetas">Estructura de carpetas</h2>
<p>Las carpetas y ficheros principales que se generan con un nuevo proyecto son:</p>
<ul>
<li><em>app</em> - En este directorio es donde se almacenan las vistas, modelos, controladores y stores para la aplicación.</li>
<li><em>app.js</em> - Es el principal script o punto de entrada de nuestra aplicación, el cual ejecutará el código inicial.</li>
<li><em>app.json</em> - Es el fichero de configuración de nuestra aplicación.</li>
<li><em>index.html</em> - Fichero HTML principal de la aplicación, el cual se abrirá al iniciarla.</li>
<li><em>packager.json</em> - Fichero de configuración utilizado por Sencha Cmd para la generación de paquetes nativos de la aplicación.</li>
<li><em>resources</em> - Contiene todos los recursos o assets de la aplicación, como los CSS, imágenes, etc.</li>
</ul>
<p>El fichero <em>index.html</em> es el primero que se abrirá al iniciar la aplicación. Este fichero únicamente contendrá la carga de javascripts y estilos y después le pasará el control al fichero <em>app.js</em>, el cual será el punto de entrada a la aplicación y donde irá todo el código de Sencha Touch.</p>
<!-- ********************************************************************* -->
<h2 id="cdigo-html-bsico-de-una-aplicacin">Código HTML básico de una aplicación</h2>
<p>Las aplicaciones de Sencha Touch se crean como un documento HTML5 que contiene referencias a los recursos de JavaScript y CSS. Nuestro fichero <code>index.html</code> debe de contener como mínimo el siguiente código:</p>
<pre><code class="lang-html"><span class="hljs-doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span> <span class="hljs-attribute">manifest</span>=<span class="hljs-value">""</span> <span class="hljs-attribute">lang</span>=<span class="hljs-value">"en-US"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Mi aplicación<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"microloader"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">".sencha/app/microloader/development.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<p>A continuación analizaremos por separado cada una de las partes de este código:</p>
<pre><code class="lang-html"><span class="hljs-doctype">&lt;!DOCTYPE HTML&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span> <span class="hljs-attribute">manifest</span>=<span class="hljs-value">""</span> <span class="hljs-attribute">lang</span>=<span class="hljs-value">"en-US"</span>&gt;</span>
  ...
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<p>La primera línea nos indica que este es un documento del tipo HTML5. Las etiquetas de <code>&lt;html&gt;</code> y <code>&lt;/html&gt;</code> indican el inicio y final del documento HTML y deben de contener en su interior todo el resto del código.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Mi aplicación<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>
  ...
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
</code></pre>
<p>Todo documento HTML (y HTML5 también) debe de contener primero una sección de cabecera (<code>&lt;head&gt;</code>) y a continuación una sección con el contenido principal o cuerpo del documento (<code>&lt;body&gt;</code>). En este caso el cuerpo del documento (<code>&lt;body&gt;</code>) se encuentra vacío. Esto se debe a que la librería Sencha Touch crea todo el contenido de la Web, incluidos todos los elementos de la interfaz, mediante código JavaScript.</p>
<p>La cabecera del documento (<code>&lt;head&gt;</code>) debe de contener como mínimo los metadatos acerca del tipo de contenido, el conjunto de caracteres usados, y un título que mostrará el navegador en la parte superior de la ventana. Además debe de contener un enlace a la librería de javascript de carga de Sencha Touch:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"microloader"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">".sencha/app/microloader/development.js"</span>&gt;</span><span class="javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre>
<p>La etiqueta <code>&lt;script&gt;&lt;/script&gt;</code> se utiliza para cargar código JavaScript en nuestra página Web. En este caso se carga únicamente el fichero <code>development.js</code>, el cual se encarga de cargar todo lo necesario para iniciar nuestra aplicación: ficheros con hojas de estilo, librerías de Sencha Touch de JavaScript y el fichero <code>app.js</code> con el código de nuestra aplicación.</p>
<p>El fichero <code>development.js</code> comprueba el dispositivo y navegador en el que se ha cargado la aplicación y configura las hojas de estilo, javascripts y otros parámetros para que la aplicación se adapte lo mejor posible al mismo.</p>
<p>Este fichero se utiliza para entornos de desarrollo, pero para producción o testing tendremos que compilar la aplicación mediante Sencha Cmd o generar nuestra propia compilación. En futuras secciones se tratará más en profundidad este tema.</p>
<p>Ahora ya tenemos cargadas las librerías de Sencha Touch y el código de nuestra aplicación para empezar a trabajar. De momento, si lo visualizamos en un navegador solo veremos una página en blanco ya que el código de nuestra aplicación (<code>app.js</code>) de momento está vacío.</p>
<!-- ********************************************************************* -->
<h2 id="compilar-un-proyecto">Compilar un proyecto</h2>
<p>Al crear un nuevo proyecto este viene preparado para un entorno de desarrollo, por lo que si queremos obtener la versión final de producción con el código optimizado para su utilización tendremos que ejecutar (dentro de la carpeta del proyecto):</p>
<pre><code class="lang-bash">sencha app build production
</code></pre>
<p>Este comando creará una versión de producción de nuestro proyecto y la colocará en la carpeta <code>build/production/&lt;nombre-app&gt;</code>. Como esta carpeta también estará en el servidor para probarla podremos acceder a la dirección: <code>http://localhost/&lt;nombre-app&gt;/production/&lt;nombre-app&gt;</code>. Para más información sobre este proceso podéis consultar las direcciones:</p>
<p><a href="http://docs.sencha.com/touch/2.4/getting_started/using_creating_builds.html" target="_blank">http://docs.sencha.com/touch/2.4/getting_started/using_creating_builds.html</a></p>
<p><a href="http://www.sencha.com/blog/getting-started-with-sencha-touch-2-build-a-weather-utility-app-part-3/" target="_blank">http://www.sencha.com/blog/getting-started-with-sencha-touch-2-build-a-weather-utility-app-part-3/</a></p>
<!-- ********************************************************************* -->
<h2 id="mostrar-aviso-durante-la-carga">Mostrar aviso durante la carga</h2>
<p>Mientras que se carga la librería de Sencha Touch podemos mostrar fácilmente un texto o una imagen. Para esto podemos aprovechar el cuerpo del documento (<code>&lt;body&gt;</code>) que hasta ahora se encontraba vacío. Todo lo que incluyamos en esta sección se visualizará únicamente durante la carga, posteriormente será ocultado por el contenido de la aplicación. En el siguiente ejemplo se ha creado un cuadro centrado en el que aparece el texto &quot;Cargando Aplicación...&quot;.</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"margin:100px auto 0 auto; width:220px; font-size:16pt;"</span>&gt;</span>
        Cargando aplicación...
    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
</code></pre>
<!-- ********************************************************************* -->
<h2 id="instanciar-una-aplicacin">Instanciar una aplicación</h2>
<p>Para realizar nuestro primer ejemplo vamos a crear una aplicación que muestre en pantalla el mensaje &quot;¡Hola Mundo!&quot;, para lo cual abriremos el fichero <code>app.js</code> y añadiremos el siguiente código:</p>
<pre><code class="lang-javascript">Ext.application({
    name: <span class="hljs-string">'MyApp'</span>,
    launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Ext.create(<span class="hljs-string">"Ext.Panel"</span>, {
            fullscreen: <span class="hljs-literal">true</span>,
            html: <span class="hljs-string">'¡Hola Mundo!'</span>
        });
    }
});
</code></pre>
<p>A continuación analizaremos por separado cada una de las partes de este código:</p>
<pre><code class="lang-javascript">Ext.application({
    name: <span class="hljs-string">'MyApp'</span>,
    launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        ...
    }
});
</code></pre>
<p>Con <code>Ext.application({ ... });</code> creamos una nueva instancia de Sencha Touch, es decir, este es el constructor de nuestra aplicación. Entre las llaves <code>{}</code> le pasaremos la lista de opciones de configuración para crear nuestra aplicación. En primer lugar le damos un nombre <code>name: &#39;MyApp&#39;</code>, con esto automáticamente se crea una variable global llamada <code>MyApp</code> junto con los siguientes <em>namespaces</em>:</p>
<ul>
<li><em>MyApp</em></li>
<li><em>MyApp.views</em></li>
<li><em>MyApp.controllers</em></li>
<li><em>MyApp.models</em></li>
<li><em>MyApp.stores</em></li>
</ul>
<p>Estos <em>namespaces</em> (o espacios de nombres) nos permitirán acceder a atributos de nuestra aplicación de forma sencilla, los iremos viendo en detalle más adelante.</p>
<blockquote>
<p>El nombre de la aplicación (<code>name: &#39;MyApp&#39;</code>) no debe contener espacios y deberá estar formado únicamente por letras mayúsculas y minúsculas, números y algunos símbolos permitidos en la definición de variables en JavaScript.</p>
</blockquote>
<p>La función <code>launch: function() { ... }</code> solo se ejecuta una vez al cargar la aplicación, y es donde deberemos de colocar el código necesario para definir y cargar nuestra aplicación. En el ejemplo propuesto creamos un panel usando el siguiente código:</p>
<pre><code class="lang-javascript">Ext.create(<span class="hljs-string">"Ext.Panel"</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    html: <span class="hljs-string">'¡Hola Mundo!'</span>
});
</code></pre>
<p>Con <code>Ext.create(&quot;Ext.Panel&quot;, { ... });</code> instanciamos un panel para nuestro contenido y se lo asignamos al <em>viewport</em> de nuestra aplicación. El <em>viewport</em> es la vista principal de la aplicación, dentro de la cual iremos añadiendo todo el contenido.</p>
<p>Entre las llaves <code>{}</code> le pasaremos la lista de opciones de configuración que definirán el panel. Con la instrucción <code>fullscreen: true</code> le indicamos que debe ocupar toda la pantalla y con <code>html: &#39;Hola Mundo!&#39;</code> el código HTML que tiene que contener.</p>
<p>Con esto ya hemos creado nuestra primera aplicación, un panel que ocupa toda la pantalla con el texto &quot;¡Hola Mundo!&quot;.</p>
<blockquote>
<p>Si queremos podemos definir la función <code>launch</code> como una función independiente. Dentro del código del panel simplemente tendremos que poner el nombre de la función a llamar, por ejemplo: <code>launch: iniciarAplicacion</code> (sin poner los paréntesis de función). Y luego de forma independiente definiríamos la función <code>function iniciarAplicacion() { ... }</code> con el resto del código. Esta es una buena práctica para modularizar nuestro código.</p>
</blockquote>
<!-- ********************************************************************* -->
<h2 id="comprobando-los-resultados">Comprobando los resultados</h2>
<p>Para comprobar el resultado de nuestra aplicación podemos abrirla en un navegador compatible con WebKit, como Chrome o Safari. Si abrimos el ejemplo de la sección anterior deberíamos obtener algo como:</p>
<p><img src="images/web_sencha/sencha_p3.jpg" alt=""></p>
<p>Recordad que además del acceso directo se puede acceder usando un servidor web (en general será preferible esta 2ª opción ya que en muchas ocasiones el acceso directo puede dar problemas de permisos o de <em>cross origin request</em>). Para el servidor tenemos dos alternativas:</p>
<ul>
<li>Usar un servidor web propio instalado en nuestro sistema operativo, copiar nuestro proyecto dentro de la carpeta pública del servidor y acceder a través de la dirección: <a href="http://localhost/MyApp" target="_blank">http://localhost/MyApp</a></li>
<li>Usar el servidor Web que proporciona Sencha Cmd. Para activarlo tenemos que ir a la carpeta de nuestra aplicación y en un terminal ejecutar <code>sencha web start &amp;</code>. Para acceder en este caso utilizaremos la ruta: <code>http://localhost:1841/</code></li>
</ul>
<p>Al usar un servidor también podemos comprobar el resultado utilizando un emulador de móvil, como en las imágenes inferiores:</p>
<p><img src="images/web_sencha/sencha-test1.jpg" alt=""></p>
<p><img src="images/web_sencha/sencha_p6.jpg" alt=""></p>
<p>Estos emuladores son parte del IDE de Xcode y del SDK de Android. Para poder utilizarlos necesitaremos tener instalados los SDKs además de tener el código en un servidor Web. Para más información consultar la sección inicial &quot;Instalación de un servidor Web&quot; y &quot;Emuladores&quot;.</p>
<p>Para depurar nuestras aplicaciones, además de las herramientas para el desarrollador que incorpora el navegador podemos instalar la siguiente extensión especial para Sencha:</p>
<p><a href="https://chrome.google.com/webstore/detail/app-inspector-for-sencha/pbeapidedgdpniokbedbfbaacglkceae?hl=en" target="_blank">https://chrome.google.com/webstore/detail/app-inspector-for-sencha/pbeapidedgdpniokbedbfbaacglkceae?hl=en</a></p>
<!-- ********************************************************************* -->
<h2 id="todo-en-un-nico-fichero-vs-mvc-patrn-modelo-vista-controlador">Todo en un único fichero vs. MVC (patrón Modelo, Vista, Controlador)</h2>
<p>Para facilitar la creación de aplicaciones y proporcionar a la vez una estructura de contenidos sencilla pero potente, Sencha Touch utiliza el patrón de diseño MVC (Modelo Vista Controlador).</p>
<p>Siguiendo este patrón una aplicación se conforma por una lista de Modelos, Vistas, Controladores, Stores (o Almacenes) y Profiles (o Perfiles), además de una serie de metadatos como el icono, imágenes, etc.</p>
<p><img src="images/web_sencha/sencha_arquitectura_mvc.png" alt="Arquitectura MVC" title="Arquitectura MVC"></p>
<p>Sin embargo para aplicaciones pequeñas y sencillas no es necesario realizar esta separación del código y se puede escribir todo en un único fichero. Por lo tanto Sencha Touch permite ambos sistemas.</p>
<p>En este curso de introducción no vamos a tratar el modelo MVC, pero todos los conceptos y herramientas que vamos a ver sirven también para el patrón MVC.</p>
<p>Para más información podéis consultar la siguiente dirección:</p>
<p><a href="http://docs.sencha.com/touch/2.4/core_concepts/about_applications.html" target="_blank">http://docs.sencha.com/touch/2.4/core_concepts/about_applications.html</a></p>
<!-- ********************************************************************* -->
<h2 id="componentes-y-contenedores">Componentes y contenedores</h2>
<!-- ********************************* -->
<h3 id="qu-es-un-componente">Qué es un componente</h3>
<p>La mayoría de las clases visuales de Sencha Touch son componentes que heredan de <code>Ext.Component</code> lo que les da una serie de propiedades:</p>
<ul>
<li>Mostrar y ocultarse en cualquier momento.</li>
<li>Habilitarse y deshabilitarse.</li>
<li>Centrarse en la pantalla.</li>
<li>Flotar sobre otros componentes.</li>
<li>Acoplar y alinear otros componentes dentro del propio componente.</li>
<li>Acoplarse a otros componentes.</li>
</ul>
<!-- ********************************* -->
<h3 id="qu-es-un-contenedor">Qué es un contenedor</h3>
<p>Las aplicaciones se forma mediante multitud de componentes, normalmente anidados unos dentro de otros. Los contenedores son un tipo de componente especial que permite agrupar y organizar otros componentes dentro de si mismo. La mayoría de las aplicaciones tendrán un único contenedor (el <em>viewport</em>) que ocupará toda la pantalla, el cual contendrá una serie de componentes hijos. Por ejemplo en una aplicación de correo el contenedor del <em>viewport</em> contendrá dos componentes principales, uno para la lista de mensajes y otro para la previsualización de los correos.</p>
<p>Los contenedores proporcionan además la siguiente funcionalidad:</p>
<ul>
<li>Añadir componentes hijos e instanciarlos en tiempo de ejecución.</li>
<li>Eliminar componentes hijos.</li>
<li>Especificar un tipo de <em>layout</em>.</li>
</ul>
<p>Los <em>layouts</em> determinan la disposición de los componentes hijos dentro del contenedor. En la aplicación del ejemplo de correo podríamos utilizar un <em>layout</em> horizontal del tipo <em>HBox</em> para indicar que la lista se sitúe en la parte izquierda y el panel de previsualización a la derecha ocupando el resto del espacio.</p>
<!-- ********************************* -->
<h3 id="instanciar-componentes">Instanciar componentes</h3>
<p>Los componentes se crean igual que el resto de clases en Sencha Touch, utilizando el método <code>Ext.create</code>. A continuación se incluye un ejemplo:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panel = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
    html: <span class="hljs-string">'Esto es un panel'</span>
});
</code></pre>
<p>Este trozo de código crea una instancia de un panel, le asigna un contenido HTML básico y lo almacena en la variable <code>panel</code>. Un Panel es un tipo de componente que puede contener HTML u otros items o paneles.</p>
<p>En el código de ejemplo simplemente se instancia el panel pero sin llegar a mostrarse, esto es porque al instanciar un elemento no se renderiza (no se hace visible) en la pantalla de forma automática. Esta característica nos permite crear componentes cuando queramos y mostrarlos cuando nos hagan falta, lo cual en general será más rápido que instanciarlos y mostrarlos inmediatamente.</p>
<p>Si queremos mostrar el panel que hemos creado simplemente tendríamos que añadirlo al <em>viewport</em> de la aplicación, de la forma:</p>
<pre><code class="lang-javascript">Ext.Viewport.add(panel);
</code></pre>
<!-- ********************************* -->
<h3 id="configuracin-de-un-componente">Configuración de un componente</h3>
<p>Al crear un componente le podemos pasar un objecto con las opciones para configurarlo. Este objecto lo podemos crear directamente en la propia declaración del componente englobando las opciones entres llaves <code>{}</code> e indicando las opciones de configuración como pares de clave - valor. Por ejemplo:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// Crear la aplicación con sus opciones de configuración</span>
Ext.application({
    name : <span class="hljs-string">'MiApp'</span>,
    launch : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ ; }
});

<span class="hljs-comment">// Crear un panel y pasarle opciones de configuración</span>
 <span class="hljs-keyword">var</span> panel = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    html: <span class="hljs-string">'Esto es un panel!'</span>
});
</code></pre>
<p>Cada componente tiene multitud de opciones de configuración, las cuales las podemos consultar en la documentación de Sencha Touch.</p>
<p>Al instanciar el objeto podemos pasarle tantas opciones de configuración como queramos, las cuales las podremos consultar después o modificar, por ejemplo:</p>
<pre><code class="lang-javascript">Ext.application({
    name : <span class="hljs-string">'MiApp'</span>,
    requires: [<span class="hljs-string">'Ext.MessageBox'</span>],
    launch : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// Crear un panel y pasarle opciones de configuración</span>
        <span class="hljs-keyword">var</span> panel = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
            fullscreen: <span class="hljs-literal">true</span>,
            html: <span class="hljs-string">'Esto es un panel!'</span>
        });

        <span class="hljs-comment">// Actualizar el HTML del panel</span>
        panel.setHtml(<span class="hljs-string">'Nuevo HTML!'</span>);

        <span class="hljs-comment">// Obtener el HTML del panel y mostrarlo</span>
        Ext.Msg.alert(panel.getHtml());
}});
</code></pre>
<p>Cada opción de configuración tiene sus métodos tipo <em>getter</em> y <em>setter</em>, se generan automáticamente a partir del nombre del atributo por lo que siempre siguen el mismo patrón. Por ejemplo, la opción de configuración <code>html</code> tiene los métodos <code>getHtml</code> y <code>setHtml</code>, o por ejemplo la opción de configuración <code>defaultType</code> tiene los métodos <code>getDefaultType</code> y <code>setDefaultType</code>.</p>
<!-- ********************************* -->
<h3 id="array-de-_items_-y-el-atributo-_xtype_">Array de <em>items</em> y el atributo <em>xtype</em></h3>
<p>Algunos componentes incluyen la propiedad &quot;<em>items</em>&quot;, la cual permite especificar un array de elementos. Por ejemplo, en un panel nos permitirá indicar los elementos que este contiene o en un grupo de botones los botones a agrupar.</p>
<p>Si los elementos han sido creados previamente podemos usar su nombre de variable para añadirlos de la forma:</p>
<pre><code class="lang-javascript">items: [elemento]
items: [elemento1, elemento2]
</code></pre>
<p>Pero Sencha Touch también incluye la posibilidad de crear estos elementos en línea, lo cual será mucho más rápido y nos ahorrará código. Para ello tendremos que especificar directamente las opciones del objeto a crear entre llaves <code>{}</code>, de la forma:</p>
<pre><code class="lang-javascript">items: [{...}, {...}]
<span class="hljs-comment">// O si solo queremos crear un elemento:</span>
items: {}
</code></pre>
<p>Al crear un elemento en línea, además de especificar el resto de sus propiedades, también tendremos que definir su tipo <em>xtype</em> (o tipo de objeto), de la forma:</p>
<pre><code class="lang-javascript">items: { xtype: <span class="hljs-string">'toolbar'</span>, docked: <span class="hljs-string">'top'</span> }
</code></pre>
<p>El atributo <em>xtype</em> facilita la creación de componentes y sin la necesidad de utilizar su nombre de clase completo. Es especialmente útil para crear componentes dentro de una clase contenedora. A continuación se muestra un ejemplo más completo de uso:</p>
<pre><code class="lang-javascript">Ext.application({
    name : <span class="hljs-string">'MiApp'</span>,
    launch : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Ext.create(<span class="hljs-string">'Ext.Container'</span>, {
            fullscreen: <span class="hljs-literal">true</span>,
            layout: <span class="hljs-string">'fit'</span>,
            items: [
                {
                    xtype: <span class="hljs-string">'panel'</span>,
                    html: <span class="hljs-string">'Este panel se ha creado mediante xtype'</span>
                },
                {
                    xtype: <span class="hljs-string">'toolbar'</span>,
                    title: <span class="hljs-string">'Mi App'</span>,
                    docked: <span class="hljs-string">'top'</span>
                }
            ]
        });
}});
</code></pre>
<!-- ********************************* -->
<h3 id="listado-de-todos-los-_xtypes_-disponibles">Listado de todos los <em>xtypes</em> disponibles</h3>
<p>A continuación se incluye un listado de todos los <em>xtypes</em> disponibles en Sencha Touch:</p>
<p><strong>Componentes generales:</strong></p>
<table>
<thead>
<tr>
<th>xtype</th>
<th>Class</th>
</tr>
</thead>
<tbody>
<tr>
<td>actionsheet</td>
<td>Ext.ActionSheet</td>
</tr>
<tr>
<td>audio</td>
<td>Ext.Audio</td>
</tr>
<tr>
<td>button</td>
<td>Ext.Button</td>
</tr>
<tr>
<td>component</td>
<td>Ext.Component</td>
</tr>
<tr>
<td>container</td>
<td>Ext.Container</td>
</tr>
<tr>
<td>image</td>
<td>Ext.Img</td>
</tr>
<tr>
<td>label</td>
<td>Ext.Label</td>
</tr>
<tr>
<td>loadmask</td>
<td>Ext.LoadMask</td>
</tr>
<tr>
<td>map</td>
<td>Ext.Map</td>
</tr>
<tr>
<td>mask</td>
<td>Ext.Mask</td>
</tr>
<tr>
<td>media</td>
<td>Ext.Media</td>
</tr>
<tr>
<td>panel</td>
<td>Ext.Panel</td>
</tr>
<tr>
<td>segmentedbutton</td>
<td>Ext.SegmentedButton</td>
</tr>
<tr>
<td>sheet</td>
<td>Ext.Sheet</td>
</tr>
<tr>
<td>spacer</td>
<td>Ext.Spacer</td>
</tr>
<tr>
<td>title</td>
<td>Ext.Title</td>
</tr>
<tr>
<td>titlebar</td>
<td>Ext.TitleBar</td>
</tr>
<tr>
<td>toolbar</td>
<td>Ext.Toolbar</td>
</tr>
<tr>
<td>video</td>
<td>Ext.Video</td>
</tr>
<tr>
<td>carousel</td>
<td>Ext.carousel.Carousel</td>
</tr>
<tr>
<td>carouselindicator</td>
<td>Ext.carousel.Indicator</td>
</tr>
<tr>
<td>navigationview</td>
<td>Ext.navigation.View</td>
</tr>
<tr>
<td>datepicker</td>
<td>Ext.picker.Date</td>
</tr>
<tr>
<td>picker</td>
<td>Ext.picker.Picker</td>
</tr>
<tr>
<td>pickerslot</td>
<td>Ext.picker.Slot</td>
</tr>
<tr>
<td>slider</td>
<td>Ext.slider.Slider</td>
</tr>
<tr>
<td>thumb</td>
<td>Ext.slider.Thumb</td>
</tr>
<tr>
<td>tabbar</td>
<td>Ext.tab.Bar</td>
</tr>
<tr>
<td>tabpanel</td>
<td>Ext.tab.Panel</td>
</tr>
<tr>
<td>tab</td>
<td>Ext.tab.Tab</td>
</tr>
<tr>
<td>viewport</td>
<td>Ext.viewport.Default</td>
</tr>
</tbody>
</table>
<p><strong>Componentes tipo <em>DataView</em>:</strong></p>
<table>
<thead>
<tr>
<th>xtype</th>
<th>Class</th>
</tr>
</thead>
<tbody>
<tr>
<td>dataview</td>
<td>Ext.dataview.DataView</td>
</tr>
<tr>
<td>list</td>
<td>Ext.dataview.List</td>
</tr>
<tr>
<td>listitemheader</td>
<td>Ext.dataview.ListItemHeader</td>
</tr>
<tr>
<td>nestedlist</td>
<td>Ext.dataview.NestedList</td>
</tr>
<tr>
<td>dataitem</td>
<td>Ext.dataview.component.DataItem</td>
</tr>
</tbody>
</table>
<p><strong>Componentes para formulario:</strong></p>
<table>
<thead>
<tr>
<th>xtype</th>
<th>Class</th>
</tr>
</thead>
<tbody>
<tr>
<td>checkboxfield</td>
<td>Ext.field.Checkbox</td>
</tr>
<tr>
<td>datepickerfield</td>
<td>Ext.field.DatePicker</td>
</tr>
<tr>
<td>emailfield</td>
<td>Ext.field.Email</td>
</tr>
<tr>
<td>field</td>
<td>Ext.field.Field</td>
</tr>
<tr>
<td>hiddenfield</td>
<td>Ext.field.Hidden</td>
</tr>
<tr>
<td>input</td>
<td>Ext.field.Input</td>
</tr>
<tr>
<td>numberfield</td>
<td>Ext.field.Number</td>
</tr>
<tr>
<td>passwordfield</td>
<td>Ext.field.Password</td>
</tr>
<tr>
<td>radiofield</td>
<td>Ext.field.Radio</td>
</tr>
<tr>
<td>searchfield</td>
<td>Ext.field.Search</td>
</tr>
<tr>
<td>selectfield</td>
<td>Ext.field.Select</td>
</tr>
<tr>
<td>sliderfield</td>
<td>Ext.field.Slider</td>
</tr>
<tr>
<td>spinnerfield</td>
<td>Ext.field.Spinner</td>
</tr>
<tr>
<td>textfield</td>
<td>Ext.field.Text</td>
</tr>
<tr>
<td>textareafield</td>
<td>Ext.field.TextArea</td>
</tr>
<tr>
<td>textareainput</td>
<td>Ext.field.TextAreaInput</td>
</tr>
<tr>
<td>togglefield</td>
<td>Ext.field.Toggle</td>
</tr>
<tr>
<td>urlfield</td>
<td>Ext.field.Url</td>
</tr>
<tr>
<td>fieldset</td>
<td>Ext.form.FieldSet</td>
</tr>
<tr>
<td>formpanel</td>
<td>Ext.form.Panel</td>
</tr>
</tbody>
</table>
<!-- ********************************* -->
<h3 id="aadir-componentes-a-contenedores">Añadir componentes a contenedores</h3>
<p>Una vez creado un panel o contenedor también podemos añadirle más elementos en tiempo de ejecución mediante su método <code>add</code>. En el siguiente ejemplo se crea un panel que contiene un único panel y posteriormente se le añade otro panel de forma dinámica:</p>
<pre><code class="lang-javascript">Ext.application({
    name : <span class="hljs-string">'MiApp'</span>,
    launch : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">var</span> secondPanel = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
            html: <span class="hljs-string">'Segundo panel'</span>
        });

        <span class="hljs-comment">// Este sería el panel principal</span>
        <span class="hljs-keyword">var</span> mainPanel = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
            fullscreen: <span class="hljs-literal">true</span>,
            layout: <span class="hljs-string">'hbox'</span>,
            defaults: {
                flex: <span class="hljs-number">1</span>
            },
            items: {
                html: <span class="hljs-string">'Primer panel'</span>,
                style: <span class="hljs-string">'background-color: #5E99CC;'</span>
            }
        });

        <span class="hljs-comment">// Añadimos otro panel al contenedor principal</span>
        mainPanel.add(secondPanel);
}});
</code></pre>
<p>En este caso le asignamos el layout <em>hbox</em> al panel principal contenedor para que los paneles hijos se vayan añadiendo de forma horizontal. Además se utilizan un par de propiedades nuevas: <code>style</code>, la cual nos permite escribir código CSS para aplicar estilos a un componente y <code>defaults</code>, que nos permite establecer valores por defecto que se aplicarán a todos los componentes que contenta. En este caso al primer panel se le asignará un <code>flex</code> de 1, por lo que ocupará todo el ancho, pero al añadir el segundo panel también se le asignará un <code>flex</code> de 1 por lo que el ancho se repartirá y cada panel ocupará la mitad del espacio disponible (en la sección de <em>layouts</em> se tratará este tema más en profundidad).</p>
<!-- ********************************* -->
<h3 id="eliminar-componentes">Eliminar componentes</h3>
<p>Para eliminar elementos de un contenedor utilizamos su método <code>remove</code> y la variable que define el item. Por ejemplo para eliminar el panel que hemos añadido en el ejemplo anterior tendríamos que hacer:</p>
<pre><code class="lang-javascript">mainPanel.remove(secondPanel);
</code></pre>
<blockquote>
<p>Este método elimina el componente del contenedor, no lo destruye ni libera la memoria ni los eventos asociados.</p>
</blockquote>
<!-- ********************************* -->
<h3 id="mostrar-y-ocultar-componentes">Mostrar y ocultar componentes</h3>
<p>Los elementos también se pueden mostrar u ocultar simplemente llamando a sus métodos <code>hide()</code> o <code>show()</code>. Continuando con el ejemplo anterior, para mostrar u ocultar el panel principal haríamos:</p>
<pre><code class="lang-javascript">mainPanel.show();

mainPanel.hide();
</code></pre>
<!-- ********************************* -->
<h3 id="eventos">Eventos</h3>
<p>Todos los componentes de Sencha Touch lanzan eventos ante determinados cambios, estos eventos pueden ser escuchados y realizar una acción cuando son activados. Por ejemplo, al escribir en un campo de texto este lanza su evento <code>change</code>, por lo que podríamos escuchar a dicho evento usando un <em>listener</em> como se muestra en el siguiente ejemplo:</p>
<pre><code class="lang-javascript">Ext.create(<span class="hljs-string">'Ext.form.Text'</span>, {
    label: <span class="hljs-string">'Name'</span>,
    listeners: {
        change: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(field, newValue, oldValue)</span> </span>{
            <span class="hljs-comment">// El contenido ha cambiado</span>
        }
    }
});
</code></pre>
<p>Los componentes de Sencha Touch lanzan multitud de eventos facilitando el control de la aplicación y la programación por eventos. A estos eventos nos podemos suscribir también de forma dinámica una vez que el componente se ha creado. En la documentación de cada clase se puede encontrar un listado con los eventos que lanza y como podemos utilizarlos.</p>
<!-- ********************************* -->
<h3 id="destruir-componentes">Destruir componentes</h3>
<p>Cuando no se va a necesitar más un elemento se recomienda eliminarlo completamente para ahorrar memoria. Hemos de tener en cuenta que en los dispositivos móviles la memoria es un recurso escaso y si nuestra aplicación es muy grande puede llegar a ralentizar el móvil. Por este motivo se ha introducido el método <code>destroy</code> que elimina el componente que lo llame:</p>
<pre><code class="lang-javascript">mainPanel.destroy();
</code></pre>
<p>Este comando eliminaría el <em>mainPanel</em> del DOM y además eliminaría todos los <em>listeners</em> que estuvieran escuchando a sus eventos. Hemos de tener cuidado ya que también se eliminará todo el contenido del elemento, por ejemplo si es un contenedor se eliminarían sus paneles hijos.</p>
<!-- ********************************************************************* -->
<h2 id="_layouts_"><em>Layouts</em></h2>
<p>Los <em>layouts</em> se utilizan para especificar las dimensiones y posicionamiento de los componentes en una aplicación. Por ejemplo, en un aplicación de correo en general se colocarán dos paneles una a continuación del otro en horizontal, el de la izquierda para lista de mensajes ocupando un tercio del ancho y el de la derecha para la previsualización ocupando el resto del espacio.</p>
<!-- ********************************* -->
<h3 id="_layout_-tipo-_hbox_"><em>Layout</em> tipo <em>HBox</em></h3>
<p>Si queremos que los elementos en un contenedor se dispongan de forma horizontal podemos utilizar el <em>layout</em> tipo <code>hbox</code>.</p>
<p>Además, para especificar el espacio que han de ocupar los componentes dentro del contenedor podemos utilizar la propiedad <code>flex</code>, la cual indica la proporción de espacio que ocupará un componente. Al indicar el espaciado de una serie de componentes con <code>flex</code> no es necesario que sumen 100, sino que se sumará el total de las cantidades y ese será el 100% del espacio. Por ejemplo, para conseguir una columna que ocupe 1/3 y otra de 2/3 especificaríamos los siguientes valores para la propiedad <em>flex</em>:</p>
<p><img src="images/web_sencha/layout_hbox.jpg" alt=""></p>
<p>Para conseguir una disposición como la de la imagen tendríamos que indicar el <em>layout</em> tipo <em>hbox</em> al contenedor padre y establecer el atributo <em>flex</em> de cada hijo de la forma:</p>
<pre><code class="lang-javascript">Ext.create(<span class="hljs-string">'Ext.Container'</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    layout: <span class="hljs-string">'hbox'</span>,
    items: [
        {
            xtype: <span class="hljs-string">'panel'</span>,
            html: <span class="hljs-string">'Columna que ocupa 1/3 del ancho.'</span>,
            flex: <span class="hljs-number">1</span>,
            style: <span class="hljs-string">'background-color: #5E99CC;'</span>
        },
        {
            xtype: <span class="hljs-string">'panel'</span>,
            html: <span class="hljs-string">'Columna que ocupa 2/3 del ancho.'</span>,
            flex: <span class="hljs-number">2</span>,
            style: <span class="hljs-string">'background-color: #759E60;'</span>
        }
    ]
});
</code></pre>
<!-- ********************************* -->
<h3 id="_layout_-tipo-_vbox_"><em>Layout</em> tipo <em>VBox</em></h3>
<p>El layout <em>vbox</em> es similar a <em>hbox</em> pero creando una disposición vertical en lugar de horizontal. Lo podemos visualizar como un conjunto de cajas apiladas de la siguiente forma:</p>
<p><img src="images/web_sencha/layout_vbox.jpg" alt=""></p>
<p>El código para crear una pantalla de este tipo sería idéntico al utilizado en el ejemplo anterior pero cambiando el tipo de <em>layout</em> <em>hbox</em> por <em>vbox</em>:</p>
<pre><code class="lang-javascript">Ext.create(<span class="hljs-string">'Ext.Container'</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    layout: <span class="hljs-string">'vbox'</span>,
    items: [
        {
            xtype: <span class="hljs-string">'panel'</span>,
            html: <span class="hljs-string">'Fila que ocupa 1/3 del alto.'</span>,
            flex: <span class="hljs-number">1</span>
        },
        {
            xtype: <span class="hljs-string">'panel'</span>,
            html: <span class="hljs-string">'Fila que ocupa 2/3 del alto.'</span>,
            flex: <span class="hljs-number">2</span>
        }
    ]
});
</code></pre>
<!-- ********************************* -->
<h3 id="_layout_-tipo-_card_"><em>Layout</em> tipo <em>Card</em></h3>
<p>El <em>layout</em> tipo <em>Card</em> permite asignar muchos componentes o contenedores al mismo <em>layout</em> pero en el que solamente se mostrará uno a la vez. Como si fuera una baraja de cartas, los componentes se apilarán y solamente se mostrará uno de ellos ocupando toda la pantalla y ocultando al resto.</p>
<p><img src="images/web_sencha/layout_card.jpg" alt=""></p>
<p>En esta imagen el cuadro gris es el contenedor y la caja azul dentro de él es el elemento que actualmente se está mostrando. El resto de elementos que aparecen al lado están ocultos, pero se pueden intercambiar en cualquier momento para mostrarse.</p>
<p>A continuación se incluye un ejemplo de un panel con un <em>layout</em> tipo <em>card</em> que contiene cuatro tarjetas:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panel = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
    layout: <span class="hljs-string">'card'</span>,
    items: [
        {
            html: <span class="hljs-string">"Primer item"</span>
        },
        {
            html: <span class="hljs-string">"Segundo item"</span>
        },
        {
            html: <span class="hljs-string">"Tercer item"</span>
        },
        {
            html: <span class="hljs-string">"Cuarto item"</span>
        }
    ]
});

panel.setActiveItem(<span class="hljs-number">1</span>);
</code></pre>
<p>Por defecto se muestra la primera tarjeta, pero mediante la llamada a <code>panel.setActiveItem(1);</code> indicamos que se muestre la 2ª tarjeta (el número de elemento empieza en cero, por lo que el 1 se refiere a la 2ª posición).</p>
<p>Al añadir las <em>cartas</em> del <em>layout</em> las podemos crear directamente en el array de <em>items</em>, como en el ejemplo, o añadirlas posteriormente con el método <code>add</code> del panel (como ya se vio en una sección anterior).</p>
<!-- ********************************* -->
<h3 id="_layout_-tipo-_fit_"><em>Layout</em> tipo <em>Fit</em></h3>
<p>El <em>layout</em> tipo <em>fit</em> es uno de los más sencillos, simplemente hace que sus componentes hijos ocupen todo el tamaño disponible del contenedor.</p>
<p><img src="images/web_sencha/layout_fit.jpg" alt=""></p>
<p>Por ejemplo, si tenemos un contenedor de 200px de ancho por 200px de alto y le añadimos un hijo y el <em>layout</em> tipo <em>fit</em>, el componente añadido será expandido para ocupar el mismo tamaño que el padre:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panel = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
    width: <span class="hljs-number">200</span>,
    height: <span class="hljs-number">200</span>,
    layout: <span class="hljs-string">'fit'</span>,
    items: {
        xtype: <span class="hljs-string">'panel'</span>,
        html: <span class="hljs-string">'Panel del mismo tamaño que el padre.'</span>
    }
});
Ext.Viewport.add(panel);
</code></pre>
<blockquote>
<p>Si añadimos varios elementos a un contenedor de este tipo solamente será visible el primero, ya que al expandirse para ocupar todo el espacio ocultará al resto. Para mostrar otros elementos en el panel podemos utilizar otros <em>layouts</em> (hbox, vbox o card) u ocultar el elemento visible para dejar espacio.</p>
</blockquote>
<!-- ********************************* -->
<h3 id="_docking_-o-acoplamiento"><em>Docking</em> o acoplamiento</h3>
<p>Todos los <em>layouts</em> tienen la capacidad de acoplar elementos &quot;adicionales&quot; de forma fija en cualquiera de sus laterales. Al acoplar un elemento el resto de contenido del <em>layout</em> será redimensionado para adaptarse. Las posiciones en las que se puede acoplar un elemento son: <em>top</em>, <em>right</em>, <em>bottom</em>, o <em>left</em>.</p>
<p>Es importante notar que los elementos acoplados son &quot;adicionales&quot; al contenido del <em>layout</em>, es decir, si por ejemplo acoplamos un elemento a un contenedor con un <em>layout</em> tipo <em>hbox</em>, el elemento acoplado no seguirá la alineación horizontal, sino que se pondrá en la posición que se especifique con <code>docked</code> de entre la lista de posiciones permitidas.</p>
<p><img src="images/web_sencha/layout_docktop.jpg" alt=""></p>
<p>En la imagen superior tenemos un <em>layout</em> tipo <em>hbox</em> con dos columnas y un elemento acoplado en la parte superior. A continuación se incluye el código para crear una disposición de este tipo:</p>
<pre><code class="lang-javascript">Ext.create(<span class="hljs-string">'Ext.Container'</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    layout: <span class="hljs-string">'hbox'</span>,
    items: [
        {
            docked: <span class="hljs-string">'top'</span>,
            xtype: <span class="hljs-string">'panel'</span>,
            height: <span class="hljs-number">20</span>,
            html: <span class="hljs-string">'Elemento acoplado en la parte superior.'</span>
        },
        {
            xtype: <span class="hljs-string">'panel'</span>,
            html: <span class="hljs-string">'Columna izquierda.'</span>,
            flex: <span class="hljs-number">1</span>
        },
        {
            xtype: <span class="hljs-string">'panel'</span>,
            html: <span class="hljs-string">'Columna derecha.'</span>,
            flex: <span class="hljs-number">2</span>
        }
    ]
});
</code></pre>
<p>En el ejemplo se ha utilizado la característica <code>docked</code> para acoplar un panel, pero es mucho más común su utilización con herramientas tipo <code>toolbar</code> o <code>titlebar</code>.</p>
<p>Podemos acoplar tantos elementos como queramos, los cuales se irán añadiendo en el mismo orden en el que se asignen.</p>
<!-- ********************************* -->
<h3 id="_pack_-y-_align_"><em>Pack</em> y <em>Align</em></h3>
<p>Las características <em>pack</em> y <em>align</em> del <em>layout</em> sirven para controlar la alineación de los elementos hijos dentro de un contenedor:</p>
<ul>
<li><em>Pack</em>: es la alineación en el mismo eje de alineación del <em>layout</em> utilizado. Por ejemplo, en un <em>layout</em> tipo <em>hbox</em> sería el horizontal y en uno tipo <em>vbox</em> el vertical. Se pueden asignar tres posibles valores: <em>start</em>, <em>center</em> y <em>end</em>.</li>
<li><em>Align</em>: es la alineación en el eje perpendicular al de la alineación del <em>layout</em> utilizado. Por ejemplo, en un <em>layout</em> del tipo <em>hbox</em> será la vertical y en uno del tipo <em>vbox</em> la horizontal. Puede tener cuatro posibles valores: <em>start</em>, <em>center</em>, <em>end</em> y <em>stretch</em>.</li>
</ul>
<p>A continuación se incluye un ejemplo de su utilización:</p>
<pre><code class="lang-javascript">Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    layout: {
        type: <span class="hljs-string">'hbox'</span>,
        align: <span class="hljs-string">'center'</span>,
        pack: <span class="hljs-string">'center'</span>
    },
    items: {
        xtype: <span class="hljs-string">'panel'</span>,
        html: <span class="hljs-string">'Contenido centrado.'</span>
    }
});
</code></pre>
<!-- ********************************************************************* -->
<h2 id="toolbars">Toolbars</h2>
<p>Hasta ahora hemos visto como utilizar paneles y contenedores (<code>Ext.Panel</code> y <code>Ext.Container</code>), en esta sección vamos a ver como añadir barras de herramientas dentro de estos elementos.</p>
<p>Para añadir barras de herramientas a un panel tenemos dos opciones, igual que para otro tipo de componentes, estas son:</p>
<ul>
<li>Crear la barra de herramientas de forma separada usando el constructor &quot;<code>var toolbar = Ext.create(&#39;Ext.Toolbar&#39;, { ... });</code>&quot; y posteriormente añadirla al panel en su atributo &quot;<code>items</code>&quot; usando su nombre de variable.</li>
<li>Crear la barra de herramientas directamente en el atributo &quot;<code>items</code>&quot; del panel. Para esto definiremos el tipo de componente usando el <code>xtype: &#39;toolbar&#39;</code>.</li>
</ul>
<p>En ambos casos, dentro del constructor podemos usar los siguientes atributos:</p>
<ul>
<li><strong>id: &#39;identificador&#39;</strong>: Atributo opcional para indicar el identificador de la barra.</li>
<li><strong>docked: &#39;top&#39;</strong> o <strong>docked: &#39;bottom&#39;</strong>: indica que la barra se coloque en la parte superior o en la parte inferior del panel respectivamente.</li>
<li><strong>title: &#39;texto&#39;</strong>: indica el texto que se colocará en el centro de la barra.</li>
<li><strong>ui: valor</strong>: atributo opcional que cambia la apariencia de la barra. Por defecto toma el valor &quot;<em>dark</em>&quot;, pero también podemos usar &quot;<em>light</em>&quot; que aplicará unos colores más claros.</li>
</ul>
<p>En el siguiente ejemplo se crean dos barras de herramientas y se añaden a un panel. La primera se crea de forma separada y después se añaden al panel usando su nombre de variable. La segunda barra se crea en línea usando su <em>xtype</em>:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> topToolbar = Ext.create(<span class="hljs-string">'Ext.Toolbar'</span>, {
  docked: <span class="hljs-string">'top'</span>,
  title: <span class="hljs-string">'Top Toolbar'</span>
});

<span class="hljs-keyword">var</span> panel = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
  fullscreen: <span class="hljs-literal">true</span>,
  layout: <span class="hljs-string">'fit'</span>,
  html: <span class="hljs-string">'Contenido central'</span>,
  items: [
    topToolbar,
    {
        xtype: <span class="hljs-string">'toolbar'</span>,
        dock: <span class="hljs-string">'bottom'</span>,
        title: <span class="hljs-string">'Bottom Toolbar'</span>
    }
  ]
});
</code></pre>
<p>Con lo que obtendríamos un resultado similar a:</p>
<p><img src="images/web_sencha/sencha_toolbars.jpg" alt=""></p>
<!-- ********************************************************************* -->
<h2 id="botones">Botones</h2>
<p>Los botones se añaden a las barras de herramientas (Toolbar) u otro tipo de componentes mediante su propiedad <code>items</code>. La forma de construir un botón, igual que para otros componentes, son dos:</p>
<ul>
<li>Mediante su constructor creamos el botón y lo asignamos a una variable:  <code>var button = Ext.create(&#39;Ext.Button&#39;, {...});</code>. Posteriormente podemos asignar dicha variable al atributo <code>items</code> de algún contenedor.</li>
<li>Definir el botón directamente dentro del atributo <code>items</code> de algún contenedor mediante el <code>xtype: &#39;button&#39;</code>.</li>
</ul>
<p>Además tenemos una serie de propiedades que podemos configurar:</p>
<ul>
<li><em>text</em>: texto del botón.</li>
<li><em>ui</em>: tipo o apariencia del botón.</li>
<li><em>iconCls</em>: icono del botón.</li>
</ul>
<p>En el siguiente ejemplo se crea una barra de herramientas con dos botones, uno creado de forma <em>inline</em> y otro de forma separada:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> button1 = Ext.create(<span class="hljs-string">'Ext.Button'</span>, {
  text: <span class="hljs-string">'Mi botón 1'</span>
});

<span class="hljs-keyword">var</span> topToolbar = Ext.create(<span class="hljs-string">'Ext.Toolbar'</span>, {
  dock: <span class="hljs-string">'top'</span>,
  title: <span class="hljs-string">'mi barra'</span>,
  items: [
        button1,
        {
            xtype: <span class="hljs-string">'button'</span>,
            ui: <span class="hljs-string">'action'</span>,
            text: <span class="hljs-string">'Mi botón 2'</span>
        }
  ]
});
</code></pre>
<p>Podemos usar siete tipos <strong>ui</strong> predefinidos de botones, estos son:</p>
<ul>
<li>ui: &#39;normal&#39;</li>
<li>ui: &#39;back&#39;</li>
<li>ui: &#39;forward&#39;</li>
<li>ui: &#39;round&#39;</li>
<li>ui: &#39;action&#39;</li>
<li>ui: &#39;confirm&#39;</li>
<li>ui: &#39;decline&#39;</li>
</ul>
<p><img src="images/web_sencha/sencha_buttons.jpg" alt=""></p>
<p>Además podemos usar los modificadores <strong>&quot;-small&quot;</strong> y <strong>&quot;-round&quot;</strong> sobre los tipos de botón &quot;action&quot;, &quot;confirm&quot; y &quot;decline&quot; para obtener botones más pequeños o redondeados:</p>
<p><img src="images/web_sencha/sencha_buttons_modificadores.jpg" alt=""></p>
<p>Si no indicamos un tipo (ui) por defecto nos aparecerá el botón tipo &quot;normal&quot;.</p>
<p>Si queremos variar el <strong>ancho</strong> de un botón podemos utilizar la propiedad &quot;width: &#39;200px&#39;&quot; en píxeles o &quot;width: &#39;95%&#39;&quot; indicando porcentajes.</p>
<p><strong>Iconos</strong></p>
<p>También podemos usar algunos iconos predefinidos, indicando el nombre del icono mediante la propiedad <strong>&quot;iconCls: &#39;nombre&#39;&quot;</strong>, de la forma:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> button = Ext.create(<span class="hljs-string">'Ext.Button'</span>, {
  iconCls: <span class="hljs-string">'action'</span>
});
</code></pre>
<p>Los iconos que podemos utilizar son:</p>
<table>
    <tr>
        <td>
            <img src="images/web_sencha/sencha_button_action.jpg" alt=""> action
        </td><td>
            <img src="images/web_sencha/sencha_buttons_add.jpg" alt="">   add
        </td><td>
              <img src="images/web_sencha/sencha_buttons_arrow_down.jpg" alt="">   arrow_down
        </td></tr><tr><td>
              <img src="images/web_sencha/sencha_buttons_arrow_left.jpg" alt="">   arrow_left
        </td><td>
              <img src="images/web_sencha/sencha_buttons_arrow_right.jpg" alt="">   arrow_right
        </td><td>
              <img src="images/web_sencha/sencha_buttons_arrow_up.jpg" alt="">   arrow_up
        </td></tr><tr><td>
              <img src="images/web_sencha/sencha_buttons_compose.jpg" alt="">   compose
        </td><td>
              <img src="images/web_sencha/sencha_buttons_delete.jpg" alt="">   delete
          </td><td>
              <img src="images/web_sencha/sencha_buttons_organize.jpg" alt="">   organize
        </td></tr><tr><td>
              <img src="images/web_sencha/sencha_buttons_refresh.jpg" alt="">   refresh
          </td><td>
              <img src="images/web_sencha/sencha_buttons_reply.jpg" alt="">   reply
          </td><td>
              <img src="images/web_sencha/sencha_buttons_search.jpg" alt="">   search
          </td></tr><tr><td>
              <img src="images/web_sencha/sencha_buttons_settings.jpg" alt="">   settings
          </td><td>
              <img src="images/web_sencha/sencha_buttons_star.jpg" alt="">   star
        </td><td>
              <img src="images/web_sencha/sencha_buttons_trash.jpg" alt="">   trash
          </td></tr><tr><td>
              <img src="images/web_sencha/sencha_buttons_maps.jpg" alt="">   maps
          </td><td>
              <img src="images/web_sencha/sencha_buttons_locate.jpg" alt="">   locate
          </td><td>
              <img src="images/web_sencha/sencha_buttons_home.jpg" alt="">   home
          </td></tr>
</table>

<p>Si además usamos la propiedad <strong>&quot;text: &#39;texto&#39;&quot;</strong> al definir el botón, el texto aparecerá a la derecha del icono:</p>
<p><img src="images/web_sencha/sencha_buttons_icon_text.jpg" alt=""></p>
<p>Opcionalmente podemos aplicar colores a estos iconos, aplicándole los tipos (ui) de &#39;action&#39;, &#39;decline&#39; o &#39;confirm&#39;, obteniendo:</p>
<p><img src="images/web_sencha/sencha_buttons_icon_colors.jpg" alt=""></p>
<p><strong>Imágenes externas</strong></p>
<p>Si queremos usar una imagen externa tenemos que aplicar al botón un estilo CSS. El botón lo definimos de forma normal, pero utilizamos su propiedad <code>cls</code> para indicar el nombre del estilo:</p>
<pre><code class="lang-javascript">items: [ { xtype: <span class="hljs-string">'button'</span>, ui: <span class="hljs-string">'normal'</span>, cls: <span class="hljs-string">'btnAyuda'</span> } ]
</code></pre>
<p>El estilo &quot;btnAyuda&quot; lo tendremos que definir indicando la imagen de fondo a usar junto con el ancho y el alto del botón. El tamaño de la imagen que usemos deberá de coincidir con el tamaño aplicado al botón para que no se vea recortado. El tamaño habitual de un botón es de 45x35 píxeles. Además es muy importante añadir en el CSS la propiedad <code>!important</code> al cargar la imagen de fondo. Esto es debido a que Sencha Touch sobrescribe algunos estilos y tenemos que aplicar esta propiedad para que prevalezca el nuestro:</p>
<pre><code class="lang-css"><span class="hljs-class">.btnAyuda</span> <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">background</span>:<span class="hljs-value"> <span class="hljs-function">url</span>(resources/imgs/ayuda.png) <span class="hljs-important">!important</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-number">45px</span></span></span>;
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">35px</span></span></span>;
<span class="hljs-rule">}</span></span>
</code></pre>
<p><strong>Badges</strong></p>
<p>De forma sencilla podemos añadir una insignia distintiva a los botones para destacar alguna información. Para esto utilizamos la propiedad <strong>&quot;badgeText: &#39;2&#39;&quot;</strong>, que daría como resultado:</p>
<p><img src="images/web_sencha/sencha_buttons_badge.jpg" alt=""></p>
<p><strong>Alineaciones</strong></p>
<p>Por defecto los botones salen alineados a la izquierda. Para crear otras alineaciones utilizaremos un espaciador <strong>&quot;{ xtype: &#39;spacer&#39; }&quot;</strong>. En el siguiente código podemos ver diferentes ejemplos de alineaciones:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// Alineación derecha</span>
items: [
  { xtype: <span class="hljs-string">'spacer'</span> },
  { xtype: <span class="hljs-string">'button'</span>, ui: <span class="hljs-string">'normal'</span>, text: <span class="hljs-string">'Botón'</span> }
]
<span class="hljs-comment">// Alineación centrada</span>
items: [
  { xtype: <span class="hljs-string">'spacer'</span> },
  { xtype: <span class="hljs-string">'button'</span>, ui: <span class="hljs-string">'normal'</span>, text: <span class="hljs-string">'Botón'</span> },
  { xtype: <span class="hljs-string">'spacer'</span> }
]
</code></pre>
<p><strong>Acciones</strong></p>
<p>Para añadir acciones a los botones tenemos que definir su propiedad &quot;<strong>handler</strong>&quot;, a la cual le asignaremos una función. Esta función la podemos definir en línea, de la forma <code>handler: function () { ... }</code>, o creando una función independiente para separar mejor el código, como en el ejemplo:</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">botonPresionado</span><span class="hljs-params">(btn, evt)</span> </span>{
    alert(<span class="hljs-string">"Presionado "</span> + btn.text);
}

<span class="hljs-keyword">var</span> topToolbar = Ext.create(<span class="hljs-string">'Ext.Toolbar'</span>, {
      items: [
        {
            xtype: <span class="hljs-string">'button'</span>,
            ui: <span class="hljs-string">'normal'</span>,
            text: <span class="hljs-string">'Botón 1'</span>,
            handler: botonPresionado
        },
        {
            xtype: <span class="hljs-string">'button'</span>,
            ui: <span class="hljs-string">'action'</span>,
            text: <span class="hljs-string">'Botón 2'</span>,
            handler: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(btn, evt)</span> </span>{
                alert(<span class="hljs-string">"Presionado "</span> + btn.text);
            }
        }]
});
</code></pre>
<!-- ********************************************************************* -->
<!-- ********************************************************************* -->
<!-- ********************************************************************* -->
<!-- ********************************************************************* -->
<!-- ********************************************************************* -->
<h1 id="ejercicios---introduccin-a-sencha-touch">Ejercicios - Introducción a Sencha Touch</h1>
<p>En la sección de ejercicios de Sencha Touch vamos a practicar creando una pequeña aplicación móvil que nos permita gestionar un listado de notas. La pantalla principal contendrá el listado de notas, con botones que nos permitirán crear nuevas notas y modificarlas. Al crear una nueva nota nos aparecerá un formulario en el que podremos introducir los datos y añadirlos al listado. Este mismo formulario también se utilizará para modificar las notas existentes. Además desde la pantalla principal podremos abrir la ayuda con información sobre la aplicación y el autor.</p>
<blockquote>
<p>En todos los ejercicios se utilizará el mismo proyecto de Sencha Touch, el cual se irá completando ejercicio tras ejercicio hasta tener la aplicación completa. Para la entrega solamente será necesario enviar el resultado final.</p>
</blockquote>
<!-- ********************************************************************* -->
<h2 id="ejercicio-1---estructura-de-la-aplicacin-05-puntos">Ejercicio 1 - Estructura de la aplicación (0.5 puntos)</h2>
<p>En este primer ejercicio vamos a crear el proyecto de Sencha Touch que utilizaremos en todos los ejercicios y la función de inicialización del mismo.</p>
<p>Si ya tenemos descargado e instalado el SDK y el Cmd de Sencha Touch procedemos a crear una carpeta llamada <code>misnotas</code> y a generar un proyecto dentro de esta llamado <code>MisNotas</code>.</p>
<p>El contenido de los ficheros principales será el siguiente:</p>
<ul>
<li><p>El documento <em>index.html</em> no será necesario modificarlo ya que al generar el proyecto ya se incluye la estructura básica, la carga de los recursos necesarios (hojas de estilo y javascript) e incluso un aviso de carga que aprovecharemos para nuestro proyecto.</p>
</li>
<li><p>En <em>app.js</em> es donde vamos a crear nuestra aplicación y los paneles que necesitamos. Borramos el código que se incluye de ejemplo para empezar nuestra aplicación desde cero, siguiendo estos pasos:</p>
<ul>
<li>En primer lugar creamos la instancia de la aplicación a la que pondremos como nombre <code>MisNotas</code>. Aquí deberemos definir también la función <code>launch</code>, la cual destruirá el <em>loading</em> y asignará el panel principal al <em>viewport</em>:<pre><code class="lang-javascript">Ext.application({
name: <span class="hljs-string">'MisNotas'</span>,
launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    Ext.fly(<span class="hljs-string">'appLoadingIndicator'</span>).destroy();
    Ext.Viewport.add( <span class="hljs-comment">/*TODO: referencia al panel principal*/</span> );
}
});
</code></pre>
</li>
<li>De forma separada creamos el panel principal. En este panel de momento solo indicaremos que ocupe toda la pantalla y que muestre el texto HTML &quot;Mis Notas&quot;.<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panelPrincipal = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
fullscreen: <span class="hljs-literal">true</span>,
html: <span class="hljs-string">'Mis Notas'</span>
});
</code></pre>
</li>
</ul>
</li>
</ul>
<p>No es necesario que la declaración esté dentro de la función <em>launch</em> pero sí que es <strong>importante</strong> que se ejecute después (ya que es necesario que el SDK esté cargado). Para esto podemos crear una función (definida antes de <code>Ext.application({...});</code>) que instancie el objeto y lo devuelva o que lo guarde en una variable global (esta segunda opción será mejor ya que después tendremos que hacer referencias a estos objetos). Una posible estructura a seguir es:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panelPrincipal = <span class="hljs-literal">null</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">crearPanelPrincipal</span><span class="hljs-params">()</span> </span>{
    panelPrincipal = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, { ... });
    <span class="hljs-keyword">return</span> panelPrincipal;
}

Ext.application({
    name: <span class="hljs-string">'MisNotas'</span>,
    launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Ext.fly(<span class="hljs-string">'appLoadingIndicator'</span>).destroy();
        Ext.Viewport.add( crearPanelPrincipal() );
    }
});
</code></pre>
<!-- ********************************************************************* -->
<h2 id="ejercicio-2---creacin-de-paneles-05-puntos">Ejercicio 2 - Creación de paneles (0.5 puntos)</h2>
<p>En este ejercicio vamos crear los paneles principales de la aplicación, para esto partiremos del código del ejercicio anterior.</p>
<p>Como ya hemos explicado la aplicación consta de un panel para listar las notas, otro para editar las notas y un tercero para mostrar la ayuda. Además vamos a necesitar un cuarto panel que se utilizará como contenedor. A continuación se explican los pasos que debemos seguir:</p>
<p>En <em>app.js</em> modificaremos el panel principal para asignarle un <em>layout</em> tipo <em>card</em> y una sección <code>items</code> con referencias a los tres paneles de la aplicación mediante su nombre de variable, a los que llamaremos <code>panelContenedorLista</code>, <code>panelFormulario</code> y <code>panelAyuda</code>.</p>
<p>Estos tres paneles los definiremos de la misma forma: un panel con <em>layout</em> tipo <em>fit</em> y un texto <em>html</em> de prueba que utilizaremos para comprobar que el panel se visualiza correctamente.</p>
<p>Por último deberemos comprobar que todo funciona correctamente. Para visualizar cada uno de los paneles de momento podemos cambiar su orden en la sección <code>items</code> del panel contenedor o llamar al método <code>panelPrincipal.setActiveItem(1);</code> del panel.</p>
<!-- ********************************************************************* -->
<h2 id="ejercicio-3---barras-de-herramientas-1-punto">Ejercicio 3 - Barras de herramientas (1 punto)</h2>
<p>Este ejercicio continua con el anterior, al cual vamos a añadir las barras de herramientas necesarias para cada panel.</p>
<p>Las barras las instanciaremos como un objeto separado y después las añadiremos a los paneles:</p>
<ul>
<li><p>En el panel <code>panelContenedorLista</code> añadiremos una barra en la parte superior con el título &quot;Mis Notas&quot;.</p>
</li>
<li><p>En el panel <code>panelFormulario</code> añadiremos dos barras de herramientas. Una en la parte superior con el título &quot;Editar nota&quot; y una segunda en la parte inferior sin ningún título.</p>
</li>
<li><p>Por último para el panel <code>panelAyuda</code> añadiremos una barra en su parte superior con el título &quot;Ayuda&quot;.</p>
</li>
</ul>
<!-- ********************************************************************* -->
<h2 id="ejercicio-4---botones-1-punto">Ejercicio 4 - Botones (1 punto)</h2>
<p>En este último ejercicio vamos a añadir los botones de cada una de las barras de herramientas que hemos definido en el ejercicio anterior. Los botones los podemos declarar directamente de forma <em>inline</em> en la sección <code>items</code> de cada barra de herramientas mediante su <code>xtype</code>.</p>
<ul>
<li><p>En el panel <code>panelAyuda</code> vamos a poner un único botón en su barra de herramientas alineado a la izquierda, en el que colocaremos el icono predefinido de tipo &#39;home&#39;.</p>
</li>
<li><p>En el panel <code>panelContenedorLista</code> vamos a colocar dos botones en su barra de herramientas. El primer botón estará alineado a la izquierda y contendrá una imagen externa (la imagen <code>inf.png</code> de la plantilla). Para añadir esta imagen tendremos que asignar un estilo al botón, llamado &quot;btnAyuda&quot; (ver sección &quot;Botones&quot;). Este estilo lo podemos añadir directamente a los estilos del documento &quot;<em>index.html</em>&quot; e indicar que cargue la imagen indicada (recordad usar <code>!important</code>) con un ancho de 45 píxeles y un alto de 35 píxeles.
  <br/>
  El segundo botón del panel <code>panelContenedorLista</code> estará alineado a la derecha, con el tipo &#39;action&#39; y el texto &quot;Nueva Nota&quot;.</p>
</li>
<li><p>Por último en el panel <code>panelFormulario</code> teníamos dos barras de herramientas. En la barra superior colocaremos dos botones. El primero de ellos estará alineado a la izquierda y con el icono predefinido de tipo &#39;home&#39;. El segundo botón de esta barra estará alineado a la derecha, será de tipo &#39;action&#39; y con el texto &quot;Guardar&quot;. En la barra inferior colocaremos otro botón alineado a la derecha y con el icono predefinido de tipo &#39;trash&#39;.</p>
</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./capitulo_jquery_mobile_avanzado.html" class="navigation navigation-prev " aria-label="Previous page: JQuery Mobile avanzado"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./capitulo_sencha_touch_2.html" class="navigation navigation-next " aria-label="Next page: Sencha Touch 2. Componentes"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
