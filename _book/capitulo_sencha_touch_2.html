<!DOCTYPE HTML>
<html lang="en-US" >
    
    <head>
        
        <meta charset="UTF-8">
        <title>Sencha Touch 2. Componentes | Introducción</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 1.0.3">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    
    <link rel="next" href="./capitulo_sencha_touch_3.html" />
    
    
    <link rel="prev" href="./capitulo_sencha_touch_1.html" />
    

        
    </head>
    <body>
        
        
<link rel="stylesheet" href="gitbook/style.css">


        
    <div class="book"  data-level="8" data-basepath="." data-revision="1422271212353">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
    	
    	
    	

        

        
    
        
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="./index.html">
                        <i class="fa fa-check"></i>
                        
                         Introducción
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="1" data-path="capitulo_introduccion_web.html">
            
                
                    <a href="./capitulo_introduccion_web.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                         Introducción al desarrollo Web
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="2" data-path="capitulo_introduccion_javascript.html">
            
                
                    <a href="./capitulo_introduccion_javascript.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                         Introducción a JavaScript
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="3" data-path="capitulo_diseno_responsive.html">
            
                
                    <a href="./capitulo_diseno_responsive.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                         Diseño Responsive
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="4" data-path="capitulo_diseno_responsive_avanzado.html">
            
                
                    <a href="./capitulo_diseno_responsive_avanzado.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                         Diseño Responsive avanzado
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="5" data-path="capitulo_jquery_mobile.html">
            
                
                    <a href="./capitulo_jquery_mobile.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                         JQuery Mobile
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="6" data-path="capitulo_jquery_mobile_avanzado.html">
            
                
                    <a href="./capitulo_jquery_mobile_avanzado.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                         JQuery Mobile avanzado
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="7" data-path="capitulo_sencha_touch_1.html">
            
                
                    <a href="./capitulo_sencha_touch_1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                         Sencha Touch 1. Introducción
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter active" data-level="8" data-path="capitulo_sencha_touch_2.html">
            
                
                    <a href="./capitulo_sencha_touch_2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                         Sencha Touch 2. Componentes
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="9" data-path="capitulo_sencha_touch_3.html">
            
                
                    <a href="./capitulo_sencha_touch_3.html">
                        <i class="fa fa-check"></i>
                        
                            <b>9.</b>
                        
                         Sencha Touch 3. Almacenamiento
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="10" data-path="capitulo_phonegap.html">
            
                
                    <a href="./capitulo_phonegap.html">
                        <i class="fa fa-check"></i>
                        
                            <b>10.</b>
                        
                         PhoneGap 1. Introducción
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="11" data-path="capitulo_phonegap_avanzado.html">
            
                
                    <a href="./capitulo_phonegap_avanzado.html">
                        <i class="fa fa-check"></i>
                        
                            <b>11.</b>
                        
                         PhoneGap 2. Avanzado
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="12" data-path="capitulo_laravel_1.html">
            
                
                    <a href="./capitulo_laravel_1.html">
                        <i class="fa fa-check"></i>
                        
                            <b>12.</b>
                        
                         Laravel 1. Introducción
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="13" data-path="capitulo_laravel_2.html">
            
                
                    <a href="./capitulo_laravel_2.html">
                        <i class="fa fa-check"></i>
                        
                            <b>13.</b>
                        
                         Laravel 2. Controladores, filtros y formularios
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="14" data-path="capitulo_laravel_3.html">
            
                
                    <a href="./capitulo_laravel_3.html">
                        <i class="fa fa-check"></i>
                        
                            <b>14.</b>
                        
                         Laravel 3. Base de datos
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="15" data-path="capitulo_laravel_4.html">
            
                
                    <a href="./capitulo_laravel_4.html">
                        <i class="fa fa-check"></i>
                        
                            <b>15.</b>
                        
                         Laravel 4. Datos de entrada y control de usuarios
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="16" data-path="capitulo_laravel_5.html">
            
                
                    <a href="./capitulo_laravel_5.html">
                        <i class="fa fa-check"></i>
                        
                            <b>16.</b>
                        
                         Laravel 5. Paquetes, Rest y Curl
                    </a>
                
            
            
        </li>
    
        
        <li class="chapter " data-level="17" data-path="capitulo_rest.html">
            
                
                    <a href="./capitulo_rest.html">
                        <i class="fa fa-check"></i>
                        
                            <b>17.</b>
                        
                         Servicios Rest
                    </a>
                
            
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank" class="gitbook-link">Published using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Toggle summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Toggle search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle font settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Toggle share dropdown"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">Twitter</button>
                <button type="button" data-sharing="google-plus" class="button">Google</button>
                <button type="button" data-sharing="facebook" class="button">Facebook</button>
                <button type="button" data-sharing="weibo" class="button">Weibo</button>
                <button type="button" data-sharing="instapaper" class="button">Instapaper</button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Share on Google Plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Share on Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Share on Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="./" >Introducción</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-gitbook_18">
                    
                        <h1 id="sencha-touch-2---componentes">Sencha Touch 2 - Componentes</h1>
<!-- ********************************************************************* -->
<h2 id="identificadores-y-referencias">Identificadores y referencias</h2>
<p>Como ya hemos visto, al crear un elemento lo podemos almacenar en una variable de javascript que posteriormente podemos utilizar para hacer referencia a él. Pero Sencha Touch también permite definir un identificador (<code>id</code>) mediante el cual posteriormente podremos hacer referencia a ese elemento. La forma de definirlo, por ejemplo, para un panel es la siguiente:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panel1 = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
  id: <span class="hljs-string">'idpanel1'</span>,
  html: <span class="hljs-string">'Panel 1'</span>
});
</code></pre>
<p>Posteriormente desde otro elemento podremos referirnos a este panel de dos formas:</p>
<ul>
<li>Mediante la variable <code>panel1</code>, por ejemplo: <code>panel1.setHtml(&#39;Nuevo HTML&#39;);</code></li>
<li>Mediante su identificador <code>idpanel1</code>. Para esto utilizaremos el método <code>Ext.getCmp(&#39;idpanel1&#39;)</code> que nos devolverá una referencia al objeto.</li>
</ul>
<p>Por ejemplo, para añadir este elemento a un panel contenedor tendríamos que hacer:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panelPrincipal = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
  fullscreen: <span class="hljs-literal">true</span>,
  layout: <span class="hljs-string">'card'</span>,
  items: [ Ext.getCmp(<span class="hljs-string">'idpanel1'</span>) ]

  <span class="hljs-comment">// También podríamos haber usado su nombre de variable, de la forma:</span>
  <span class="hljs-comment">// items: [ panel1 ]</span>
});
</code></pre>
<p>Este identificador podemos usarlo con todos los elementos: botones, barras, etc. Es una buena práctica definirlo para todos los elementos que creamos que vayamos a referenciar posteriormente. En este documento, por simplicidad, no lo incluiremos en todos los ejemplos, solamente cuando sea necesario.</p>
<!-- ********************************************************************* -->
<h2 id="transiciones-de-cambio-de-vista">Transiciones de cambio de vista</h2>
<p>En este apartado vamos a ver como cambiar entre diferentes paneles. Nuestra aplicación tendrá una vista principal y al apretar sobre algún botón, cambiaremos a una vista o panel diferente. Para hacer esto lo más importante es utilizar un panel base no visible que guardaremos en una variable (en este caso en <code>panelPrincipal</code>), el cual contendrá como <strong>&quot;items&quot;</strong> los paneles entre los que queremos cambiar. Además tenemos que establecer el layout del panel base a <strong>&quot;layout: &#39;card&#39;&quot;</strong>, quedando el código de nuestro panel de la forma:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panelPrincipal = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    layout: <span class="hljs-string">'card'</span>,
    items: [
        panel1,  <span class="hljs-comment">// Panel visible</span>
        panel2
    ]
});
</code></pre>
<p>El panel que se verá al principio es el primero que se añade a la lista de items, quedando el otro (o los otros) ocultos. En la siguiente imagen se puede ver un esquema del intercambio de paneles (en nuestro ejemplo con dos paneles). El panel asignado al &quot;viewport&quot; (o contenedor base) queda invisible por detrás y mediante un botón podemos pasar de un panel a otro:</p>
<p><img src="images/web_sencha/sencha_cancheViewport.jpg" alt=""></p>
<p>A continuación se incluye el código para el &quot;panel1&quot;. Un simple panel con una barra de herramientas en la parte superior que contiene un botón. Lo más importante aquí es la función <strong>&quot;handler&quot;</strong> del botón, en la cual llamamos a <strong><code>panelPrincipal.setActiveItem</code></strong> (función explicada a continuación) para cambiar al &quot;panel2&quot;. El código para el &quot;panel2&quot; sería exactamente igual, pero cambiando la variable, el html y la función <em>handler</em>.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panel1 = Ext.create(<span class="hljs-string">'Ext.Panel'</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    layout: <span class="hljs-string">'fit'</span>,
    html: <span class="hljs-string">'Panel 1'</span>,
    items: [{
        xtype: <span class="hljs-string">'toolbar'</span>,
        docked: <span class="hljs-string">'top'</span>,
        items: [{
            ui: <span class="hljs-string">'forward'</span>,
            text: <span class="hljs-string">'Adelante'</span>,
            handler: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                panelPrincipal.setActiveItem( panel2 );
            }
        }] <span class="hljs-comment">// end items</span>
    }] <span class="hljs-comment">// end items</span>
});
</code></pre>
<p>Es importante destacar que en este ejemplo hemos hecho referencia al panel base mediante su nombre de variable, pero también podríamos haberle asignado un identificador y haberlo obtenido con <code>Ext.getCmp(id)</code>.</p>
<p><strong>Método <em>setActiveItem</em></strong></p>
<p>La función <strong><code>setActiveItem( Object/Number item )</code></strong> permite cambiar entre el panel activo o visible por otro panel indicado. La forma de indicar el panel puede ser mediante su número en el array de paneles del contenedor (empezando por cero) o mediante el propio objeto a mostrar.</p>
<p><strong>Método <em>animateActiveItem</em></strong></p>
<p>La función <strong><code>animateActiveItem( Object/Number item, atributos_animación )</code></strong> funciona igual que <code>setActiveItem</code>, permite cambiar el panel actual por otro panel indicado mediante su posición en el array de items (empezando por cero) o mediante una referencia al propio objeto. Además, esta función permite definir la animación que se realizará al intercambiar los paneles. Los tipos de animaciones que podemos utilizar son:</p>
<ul>
<li><p><em>fade</em>: difumina el panel actual, fundiéndolo con el panel de destino, hasta completar la transición.</p>
</li>
<li><p><em>pop</em>: realiza una especie de animación 3D. Escala el panel actual minimizándolo hasta ocultarlo, mientras que aumenta el tamaño del panel a visualizar.</p>
</li>
<li><p><em>slide</em>: realiza un desplazamiento para intercambiar un panel por otro, podemos indicar una dirección: <em>left, right, up, down</em> (por ejemplo: <em>direction: &#39;left&#39;</em>).</p>
</li>
<li><p><em>flip</em>: realiza una animación 3D para intercambiar los paneles.</p>
</li>
<li><p><em>cube</em>: realiza una animación 3D para intercambiar los paneles.</p>
</li>
<li><p><em>cover</em>: realiza una animación 3D para intercambiar los paneles.</p>
</li>
<li><p><em>reveal</em>: realiza una animación 3D para intercambiar los paneles.</p>
</li>
<li><p><em>scroll</em>: realiza una animación 3D para intercambiar los paneles.</p>
</li>
</ul>
<p>Para todos ellos podemos definir una duración en milisegundos (por ejemplo <em>&quot;duration: 2000&quot;</em>).</p>
<p>Una posible transición que podemos definir es:</p>
<pre><code class="lang-javascript">panelPrincipal.animateActiveItem(
    panel2,
    {type: <span class="hljs-string">'slide'</span>, direction: <span class="hljs-string">'up'</span>, duration: <span class="hljs-number">2000</span>});
</code></pre>
<p>Nota: Las animaciones &quot;<em>flip</em>&quot;, &quot;<em>cube</em>&quot;, &quot;<em>cover</em>&quot;, &quot;<em>reveal</em>&quot; y &quot;<em>scroll</em>&quot; no funcionan correctamente en versiones antiguas de algunos navegadores, como en Android. En estos casos serán sustituidas por la animación por defecto.</p>
<!-- ********************************************************************* -->
<h2 id="_tabpanel_"><em>TabPanel</em></h2>
<p>Un <em>TabPanel</em> es similar a un panel con un <em>layout</em> tipo <em>card</em>, pero al que se ha añadido además la funcionalidad de mostrar automáticamente una barra de herramientas con la lista de <em>tabs</em> que contiene y que nos permitirá cambiar entre ellos.</p>
<p>Esta barra de <em>tabs</em> se puede posicionar en la parte superior (<em>top</em>) o en la inferior (<em>bottom</em>) del panel, y opcionalmente se le puede asignar un título e iconos a los botones.</p>
<p>En el siguiente ejemplo se muestra un <em>TabPanel</em> con los <em>tabs</em> en la parte inferior, además se le han añadido iconos:</p>
<pre><code class="lang-javascript">Ext.application({
    name: <span class="hljs-string">'MiApp'</span>,
    launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Ext.create(<span class="hljs-string">'Ext.TabPanel'</span>, {
            fullscreen: <span class="hljs-literal">true</span>,
            tabBarPosition: <span class="hljs-string">'bottom'</span>,
            defaults: {
                styleHtmlContent: <span class="hljs-literal">true</span>
            },
            items: [
                {
                    title: <span class="hljs-string">'Home'</span>,
                    iconCls: <span class="hljs-string">'home'</span>,
                    html: <span class="hljs-string">'Home Screen'</span>
                },
                {
                    title: <span class="hljs-string">'Contact'</span>,
                    iconCls: <span class="hljs-string">'user'</span>,
                    html: <span class="hljs-string">'Contact Screen'</span>
                }
            ]
        });
    }
});
</code></pre>
<p>El cual se mostraría como:</p>
<p><img src="images/web_sencha/sencha_tabpanel_1.png" alt=""></p>
<p>Como se puede observar la barra de <em>tabs</em> automáticamente se configura con su icono y título, además al pulsar sobre ellos se realizaría una animación para cambiar de panel. Si no se especifica el atributo <code>tabBarPosition</code> la barra por defecto se situará en la parte superior, a continuación se incluye un ejemplo:</p>
<pre><code class="lang-javascript">Ext.application({
    name: <span class="hljs-string">'MiApp'</span>,
    launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Ext.create(<span class="hljs-string">'Ext.TabPanel'</span>, {
            fullscreen: <span class="hljs-literal">true</span>,
            defaults: {
                styleHtmlContent: <span class="hljs-literal">true</span>
            },
            items: [
                {
                    title: <span class="hljs-string">'Home'</span>,
                    html: <span class="hljs-string">'Home Screen'</span>
                },
                {
                    title: <span class="hljs-string">'Contact'</span>,
                    html: <span class="hljs-string">'Contact Screen'</span>
                }
            ]
        });
    }
});
</code></pre>
<p>El cual se mostraría como:</p>
<p><img src="images/web_sencha/sencha_tabpanel_2.png" alt=""></p>
<h3 id="animaciones-en-un-_tabpanel_">Animaciones en un <em>TabPanel</em></h3>
<p>Los <em>TabPanel</em> realizan el cambio de panel automáticamente (no tenemos que escribir código para esto) y tienen asignada la animación tipo <em>slide</em> por defecto. Si queremos podemos cambiarla por cualquier otra (podemos usar las mismas que en un <em>card layout</em>) de la forma:</p>
<pre><code class="lang-javascript">Ext.application({
    name: <span class="hljs-string">'MiApp'</span>,
    launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Ext.create(<span class="hljs-string">'Ext.TabPanel'</span>, {
            fullscreen: <span class="hljs-literal">true</span>,
            defaults: {
                styleHtmlContent: <span class="hljs-literal">true</span>
            },
            layout: {
                type: <span class="hljs-string">'card'</span>,
                animation: {
                    type: <span class="hljs-string">'fade'</span>
                }
            },
            items: [
                {
                    title: <span class="hljs-string">'Home'</span>,
                    html: <span class="hljs-string">'Home Screen'</span>
                },
                {
                    title: <span class="hljs-string">'Contact'</span>,
                    html: <span class="hljs-string">'Contact Screen'</span>
                }
            ]
        });
    }
});
</code></pre>
<!-- ********************************************************************* -->
<h2 id="carousel">Carousel</h2>
<p>El Carousel es un contenedor de paneles que nos permite cambiar entre ellos simplemente arrastrando el dedo. Solo se muestra un panel en cada momento junto con un pequeño indicador con puntos que referencia el número de paneles disponibles.</p>
<p>Es muy sencillo configurarlo, en su sección <code>ítems</code> tenemos que definir cada uno de los paneles. Si queremos que se utilicen los estilos HTML básicos tenemos que activar la opción <code>defaults: { styleHtmlContent: true }</code>, como en el siguiente ejemplo:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> panelCarousel = Ext.create(<span class="hljs-string">'Ext.Carousel'</span>, {
    fullscreen: <span class="hljs-literal">true</span>,
    defaults: {
        styleHtmlContent: <span class="hljs-literal">true</span>
    },
    items: [
        {
            html : <span class="hljs-string">'Item 1'</span>,
            style: <span class="hljs-string">'background-color: #5E99CC'</span>
        },
        {
            html : <span class="hljs-string">'Item 2'</span>,
            style: <span class="hljs-string">'background-color: #759E60'</span>
        },
        {
            html : <span class="hljs-string">'Item 3'</span>
        }
    ]
});
</code></pre>
<p>Con lo que obtendríamos un resultado como el siguiente:</p>
<p><img src="images/web_sencha/sencha_carousel.jpg" alt=""></p>
<p>Dentro de los items de un carousel podemos añadir cualquier tipo de componente de entre los disponibles en Sencha Touch.</p>
<p>Una opción interesante de configuración es la orientación del panel, que básicamente lo que hace es cambiar la posición de los puntos y la dirección de movimiento de los paneles. Para configurarlo usamos la propiedad <code>direction: &#39;horizontal&#39;</code> (por defecto) o <code>direction: &#39;vertical&#39;</code>.</p>
<!-- ********************************************************************* -->
<h2 id="dilogos-mediante-_messagebox_">Diálogos mediante <em>MessageBox</em></h2>
<p>Esta clase nos permite generar mensajes emergentes de tres tipos: alertas, confirmación y de campo de texto.</p>
<p>Pero para que funcionen los avisos es <strong>importante</strong> que precarguemos la clase <code>Ext.MessageBox</code> en el atributo <code>requires</code> de la aplicación (o de la clase o componente que lo utilice):</p>
<pre><code class="lang-javascript">Ext.application({
    name: <span class="hljs-string">'MiApp'</span>,
    requires: [<span class="hljs-string">'Ext.MessageBox'</span>],
    launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        ...
    }
});
</code></pre>
<p>Esto es necesario ya que de otra forma no funcionarán los avisos. En general se recomienda especificar en cada contenedor las clases que tiene que cargar, en general el propio sistema las carga en el momento en que las necesita, pero en algunas ocasiones (como en esta) si no se precargan pueden aparecer errores.</p>
<p>A continuación veremos los diferentes tipos de aviso que podemos usar.</p>
<!-- ********************************************************************* -->
<h3 id="alertas">Alertas</h3>
<p>Muestra un mensaje de aviso con un solo botón OK, como podemos ver en la imagen siguiente:</p>
<p><img src="images/web_sencha/sencha_alert.jpg" alt=""></p>
<p>Para crear una ventana de aviso usamos el constructor <strong><code>Ext.Msg.alert(title,msg,function)</code></strong>, el primer parámetro es el título de la ventana, el segundo es el mensaje de aviso que aparecerá en el centro de la ventana, y el último es la función <em>callback</em> que se llamará una vez cerrada la ventana. Por ejemplo:</p>
<pre><code class="lang-javascript">Ext.Msg.alert(<span class="hljs-string">'Titulo'</span>, <span class="hljs-string">'Mensaje de aviso'</span>, Ext.emptyFn);
</code></pre>
<p>En este caso usamos la función vacía <code>Ext.emptyFn</code> para que no se ejecute nada. En su lugar podríamos haber puesto directamente el nombre de una función a llamar.</p>
<!-- ********************************************************************* -->
<h3 id="confirmacin">Confirmación</h3>
<p>Este mensaje de aviso nos da la opción de aceptar o rechazar, como podemos ver en la siguiente imagen:</p>
<p><img src="images/web_sencha/sencha_confirm.jpg" alt=""></p>
<p>En este caso utilizamos el constructor <strong><code>Ext.Msg.confirm(title,msg,function)</code></strong>, los parámetros serán los mismos: título, mensaje y función. En este caso sí que nos interesa indicar el nombre de una función para poder comprobar si se ha pulsado el botón OK. La función <em>callback</em> recibirá un único parámetro cuyo valor será el texto del botón pulsado.</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunction</span><span class="hljs-params">(btn)</span>
</span>{
  <span class="hljs-keyword">if</span>( btn == <span class="hljs-string">"yes"</span> )
    Ext.Msg.alert( <span class="hljs-string">"¡Ha pulsado sí! :D"</span> );
  <span class="hljs-keyword">else</span>
    Ext.Msg.alert( <span class="hljs-string">"Ha pulsado no :("</span> );
}

Ext.Msg.confirm( <span class="hljs-string">"Confirmation"</span>, <span class="hljs-string">"Are you sure you want to do that?"</span>, myFunction );
</code></pre>
<!-- ********************************************************************* -->
<h3 id="prompt-solicitar-datos">Prompt, solicitar datos</h3>
<p>El diálogo tipo <em>prompt</em> sirve para solicitar un dato al usuario, consiste en una pequeña ventana con un campo de texto que se puede aceptar o rechazar:</p>
<p><img src="images/web_sencha/sencha_prompt.jpg" alt=""></p>
<p>Utilizamos el constructor <strong><code>Ext.Msg.prompt(title,msg,function)</code></strong> con los parámetros: título, mensaje y función. En este caso la función <em>callback</em> recibirá dos parámetros: el botón pulsado y el texto introducido.</p>
<pre><code class="lang-javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myFunction</span><span class="hljs-params">(btn, text)</span>
</span>{
  Ext.Msg.alert( btn + <span class="hljs-string">' '</span> + text );
}

Ext.Msg.prompt(<span class="hljs-string">'Name'</span>, <span class="hljs-string">'Please enter your name:'</span>, myFunction );
</code></pre>
<!-- ********************************************************************* -->
<h2 id="formularios">Formularios</h2>
<p>Para crear formularios utilizamos el constructor <strong><code>Ext.create(&#39;Ext.form.Panel&#39;, { ... });</code></strong>, el cual se comporta exactamente igual que un panel, pero permitiendo añadir fácilmente en el array &quot;<code>items</code>&quot; campos de tipo formulario. En el siguiente ejemplo se crea un formulario que contiene un campo de texto y un área de texto:</p>
<pre><code class="lang-javascript">Ext.application({
    name: <span class="hljs-string">'MiApp'</span>,
    launch: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Ext.create(<span class="hljs-string">'Ext.form.Panel'</span>, {
            fullscreen: <span class="hljs-literal">true</span>,
            items: [
                {
                    xtype: <span class="hljs-string">'textfield'</span>,
                    name: <span class="hljs-string">'title'</span>,
                    label: <span class="hljs-string">'Title'</span>,
                    required: <span class="hljs-literal">true</span>
                },
                {
                    xtype: <span class="hljs-string">'textareafield'</span>,
                    name: <span class="hljs-string">'narrative'</span>,
                    label: <span class="hljs-string">'Narrative'</span>
                }
            ]
        });
    }
});
</code></pre>
<!-- ********************************************************************* -->
<h3 id="tipos-de-campos">Tipos de campos</h3>
<p>Para <strong>todos los campos</strong> podemos especificar un nombre &quot;<code>name</code>&quot;, una etiqueta &quot;<code>label</code>&quot; y si es requerido &quot;<code>required: true</code>&quot; (esta propiedad solo es visual, añade un asterisco (<code>*</code>) en el nombre del campo, pero <strong>no realiza ninguna validación</strong>).</p>
<p>El nombre (<code>name</code>) se utiliza para cargar y enviar los datos del formulario (como veremos más adelante), y la etiqueta (<code>label</code>) se mostrará visualmente en la parte izquierda de cada campo. El valor de todos los campos se encuentra en su atributo &quot;<code>value</code>&quot;, el cual también podemos utilizarlo para especificar un valor inicial.</p>
<p>Los principales tipos de campos que podemos utilizar son los siguientes (indicados según su nombre &quot;<code>xtype</code>&quot; en negrita):</p>
<ul>
<li><p><strong>textfield</strong>: campo de texto.
  <br/>
  <img src="images/web_sencha/sencha_forms_text.jpg" alt=""></p>
</li>
<li><p><strong>textareafield</strong>: área de texto.
  <br/>
  <img src="images/web_sencha/sencha_forms_textarea.jpg" alt=""></p>
</li>
<li><p><strong>passwordfield</strong>: campo de texto para introducir contraseñas. El código es igual que para un <em>textfield</em> pero cambiando el valor de &quot;<code>xtype: &#39;passwordfield&#39;</code>&quot;:
  <br/>
  <img src="images/web_sencha/sencha_forms_password.jpg" alt=""></p>
</li>
<li><p><strong>urlfield</strong>: campo de texto para direcciones Web, incluye validación de URL correcta:
  <br/>
  <img src="images/web_sencha/sencha_forms_urlfield.jpg" alt=""></p>
</li>
<li><p><strong>emailfield</strong>: campo de texto para introducir e-mails, incluye validación automática:
  <br/>
  <img src="images/web_sencha/sencha_forms_email.jpg" alt=""></p>
</li>
<li><p><strong>togglefield</strong>: permite seleccionar entre dos valores (0 ó 1). Por defecto se encuentra desactivado, para activarlo por defecto tenemos que añadir &quot;<code>value:1</code>&quot; a la definición del campo:
  <br/>
  <img src="images/web_sencha/sencha_forms_toggle.jpg" alt=""></p>
</li>
<li><p><strong>numberfield</strong>: campo numérico, permite introducir el número manualmente o mediante las flechas laterales. Inicialmente no contiene ningún valor, pero podemos definir un valor inicial mediante la propiedad &quot;<code>value: 20</code>&quot;:
  <br/>
  <img src="images/web_sencha/sencha_forms_number.jpg" alt=""></p>
</li>
<li><p><strong>spinnerfield</strong>: campo numérico, permite introducir el número manualmente o mediante los botones laterales. Inicialmente su valor es 0. Podemos definir un valor inicial mediante la propiedad &quot;<code>value: 20</code>&quot;. También podemos definir un valor mínimo &quot;<code>minValue: 0</code>&quot;, un valor máximo &quot;<code>maxValue: 100</code>&quot;, el incremento &quot;<code>incrementValue: 2</code>&quot; y si se permiten ciclos &quot;<code>cycle: true</code>&quot;.
<br/>
<img src="images/web_sencha/sencha_forms_spinner.jpg" alt=""></p>
</li>
<li><p><strong>sliderfield</strong>: campo numérico modificable mediante una barra o slider. Inicialmente su valor es 0. Podemos definir un valor inicial mediante la propiedad &quot;<code>value: 50</code>&quot;. También podemos definir un valor mínimo &quot;<code>minValue: 0</code>&quot;, un valor máximo &quot;<code>maxValue: 100</code>&quot; y el incremento &quot;<code>incrementValue: 2</code>&quot;.
<br/>
<img src="images/web_sencha/sencha_forms_slider.jpg" alt=""></p>
</li>
<li><p><strong>datepickerfield</strong>: campo para seleccionar fechas. Al pulsar sobre el campo aparece una ventana en la que podemos seleccionar fácilmente una fecha. Podemos indicarle una fecha inicial utilizando &quot;<code>value: {year: 1989, day: 1, month: 5}</code>&quot;:
<br/>
<img src="images/web_sencha/sencha_forms_datepicker.jpg" alt=""></p>
</li>
<li><p><strong>fieldset</strong>: Este elemento en realidad no es un campo de datos, sino un contenedor. No añade ninguna funcionalidad, simplemente pone un título (opcional), y agrupa elementos similares, de la forma:
<br/></p>
<pre><code class="lang-javascript">items: [{
xtype: <span class="hljs-string">'fieldset'</span>,
title: <span class="hljs-string">'About Me'</span>,
items: [
  { xtype: <span class="hljs-string">'textfield'</span>, name : <span class="hljs-string">'firstName'</span>, label: <span class="hljs-string">'First Name'</span> },
  { xtype: <span class="hljs-string">'textfield'</span>, name : <span class="hljs-string">'lastName'</span>, label: <span class="hljs-string">'Last Name'</span>}
]
}]
</code></pre>
<p><br/>
Con lo que obtendríamos un resultado similar a:
<br/>
<img src="images/web_sencha/sencha_forms_fieldset.jpg" alt=""></p>
</li>
</ul>
<ul>
<li><strong>selectfield</strong>: campo desplegable para seleccionar entre una lista de valores. Las posibles opciones se indican en la propiedad &quot;<code>options</code>&quot; como un array. Para cada opción tenemos que indicar sus valores <code>text</code> (texto que se mostrará) y <code>value</code> (valor devuelto para la opción seleccionada).
<br/><pre><code class="lang-javascript">items:[{
xtype: <span class="hljs-string">'selectfield'</span>,
label: <span class="hljs-string">'Select'</span>,
options: [
  {text: <span class="hljs-string">'First Option'</span>,  value: <span class="hljs-string">'first'</span>},
  {text: <span class="hljs-string">'Second Option'</span>, value: <span class="hljs-string">'second'</span>},
  {text: <span class="hljs-string">'Third Option'</span>,  value: <span class="hljs-string">'third'</span>}
]
}]
</code></pre>
<br/>
Con lo que obtendríamos un resultados como el siguiente:
<br/>
<img src="images/web_sencha/sencha_forms_selectfield.jpg" alt=""></li>
</ul>
<ul>
<li><strong>checkboxfield</strong>: el campo checkbox nos permite elegir uno o varios elementos de una lista. Cada campo de la lista se tiene que declarar como un item independiente, pero todos ellos deben de tener el mismo nombre &quot;<code>name</code>&quot; para poder ser agrupados (muy importante para posteriormente poder recoger los datos correctamente). Además podemos utilizar la propiedad &quot;<code>checked: true</code>&quot; para que aparezcan marcados inicialmente:
<br/><pre><code class="lang-javascript">items: [
{
  xtype: <span class="hljs-string">'checkboxfield'</span>,
  name : <span class="hljs-string">'check_color'</span>,  <span class="hljs-comment">// Nombre del grupo</span>
  value: <span class="hljs-string">'red'</span>,
  label: <span class="hljs-string">'Red'</span>,
  checked: <span class="hljs-literal">true</span>
}, {
  xtype: <span class="hljs-string">'checkboxfield'</span>,
  name : <span class="hljs-string">'check_color'</span>,
  value: <span class="hljs-string">'green'</span>,
  label: <span class="hljs-string">'Green'</span>
}, {
  xtype: <span class="hljs-string">'checkboxfield'</span>,
  name : <span class="hljs-string">'check_color'</span>,
  value: <span class="hljs-string">'blue'</span>,
  label: <span class="hljs-string">'Blue'</span>
}
]
</code></pre>
<br/>
Con lo que obtendríamos un resultado como el siguiente (en la imagen se han agrupado además dentro de un <em>fieldset</em>):
<br/>
<img src="images/web_sencha/sencha_forms_checkbox.jpg" alt=""></li>
</ul>
<ul>
<li><strong>radiofield</strong>: el campo de tipo &quot;radio&quot; nos permite elegir <strong>solo un elemento</strong> de una lista. Cada campo de la lista se tiene que declarar como un item independiente, pero todos ellos deben de tener el mismo nombre &quot;<code>name</code>&quot; para poder ser agrupados (muy importante para posteriormente poder recoger los datos correctamente). Además podemos utilizar la propiedad &quot;<code>checked: true</code>&quot; en uno de ellos para que aparezca marcado inicialmente:
<br/><pre><code class="lang-javascript">items: [
{
  xtype: <span class="hljs-string">'radiofield'</span>,
  name : <span class="hljs-string">'radio_color'</span>,  <span class="hljs-comment">// Nombre del grupo</span>
  value: <span class="hljs-string">'red'</span>,
  label: <span class="hljs-string">'Red'</span>,
  checked: <span class="hljs-literal">true</span>
}, {
  xtype: <span class="hljs-string">'radiofield'</span>,
  name : <span class="hljs-string">'radio_color'</span>,
  value: <span class="hljs-string">'green'</span>,
  label: <span class="hljs-string">'Green'</span>
}, {
  xtype: <span class="hljs-string">'radiofield'</span>,
  name : <span class="hljs-string">'radio_color'</span>,
  value: <span class="hljs-string">'blue'</span>,
  label: <span class="hljs-string">'Blue'</span>
}
]
</code></pre>
<br/>
Con lo que obtendríamos un resultado similar a (en la imagen se han agrupado además dentro de un <em>fieldset</em>):
<br/>
<img src="images/web_sencha/sencha_forms_radio.jpg" alt=""></li>
</ul>
<p>También podemos instanciar los campos de un formulario de forma independiente utilizando su constructor, por ejemplo para el campo de &quot;<code>textfield</code>&quot; sería &quot;<code>Ext.form.Text</code>&quot;, o para el campo &quot;<code>togglefield</code>&quot; sería &quot;<code>Ext.form.Toggle</code>&quot;. En general el constructor tendrá el mismo nombre que su tipo &quot;<code>xtype</code>&quot; pero quitando el sufijo &quot;<code>field</code>&quot;.</p>
<!-- ********************************************************************* -->
<!-- ********************************************************************* -->
<!-- ********************************************************************* -->
<!-- ********************************************************************* -->
<!-- ********************************************************************* -->
<h1 id="ejercicios---sencha-touch">Ejercicios - Sencha Touch</h1>
<p>En esta sesión vamos a continuar con el ejercicio del editor de notas de la sesión anterior, al cual añadiremos el contenido de la ayuda, el panel con el formulario y definiremos las transiciones entre paneles.</p>
<!-- ********************************************************************* -->
<h2 id="ejercicio-1---transiciones-1-punto">Ejercicio 1 - Transiciones (1 punto)</h2>
<p>Partiendo del código del último ejercicio vamos a añadir las acciones de transición que nos permitirán movernos entre paneles. Todas las transiciones que apliquemos serán del tipo &#39;<em>slide</em>&#39; y con una duración de 1 segundo (1000ms).</p>
<ul>
<li><p>Al presionar el botón del panel <code>panelAyuda</code> realizaremos una transición hacia arriba para cambiar al panel <code>panelContenedorLista</code>.</p>
</li>
<li><p>En el panel <code>panelContenedorLista</code> tenemos dos botones en su barra de herramientas. Para el primer botón alineado a la izquierda definimos una transición hacia abajo que cargue el panel <code>panelAyuda</code>. El segundo botón cargará el panel <code>panelFormulario</code> con una transición hacia la izquierda.</p>
</li>
<li><p>Por último, para los tres botones del panel <code>panelFormulario</code> asignaremos la misma transición hacia la derecha para cambiar al panel <code>panelContenedorLista</code>.</p>
</li>
</ul>
<p>Nota: para obtener las referencias a los paneles para crear las transiciones tenemos dos opciones:</p>
<ul>
<li>Tener almacenados los paneles en variables globales y usar directamente estas variables.</li>
<li>Asignar un identificador a cada panel mediante su atribudo <code>id</code> y posteriormente obtener una referencia mediante la función:  <code>Ext.getCmp(&#39;id-del-panel&#39;)</code></li>
</ul>
<!-- ********************************************************************* -->
<h2 id="ejercicio-2---contenido-de-la-ayuda-1-punto">Ejercicio 2 - Contenido de la ayuda (1 punto)</h2>
<p>En este ejercicio vamos a completar el panel de ayuda. En primer lugar modificamos su constructor para que sea del tipo Carousel y definimos su sección <code>items</code> para que contenga dos paneles (además del <em>toolbar</em> que ya teníamos). También tenemos que quitar los campos <code>layout: fit</code> y el texto HTML que teníamos puesto de prueba.</p>
<p>El contenido HTML de cada uno de estos paneles del Carousel lo definiremos en una variable independiente (llamadas <code>var htmlAyuda1</code> y <code>var htmlAyuda2</code>), que posteriormente asignaremos al elemento <code>html</code> del panel correspondiente. Recordad que para concatenar cadenas tendremos que usar el símbolo más (+).</p>
<p>Para el HTML del primer panel del Carousel definiremos una capa (DIV) a la que asignaremos el estilo &quot;.ayuda&quot;. Dentro de esta capa colocaremos el título &quot;<em>Mis Notas</em>&quot; (de tipo H1), seguido por un par de párrafos con el texto &quot;<em>Aplicación Web para la gestión de notas realizada con <b>Sencha Touch</b>. Máster en Desarrollo de Aplicaciones para Dispositivos Móviles</em>&quot;. Y por último abajo colocaremos una imagen (logo.png) con un ancho de 100 píxeles (subcarpeta &quot;imgs&quot; de la plantilla).</p>
<p>Para el segundo panel utilizaremos también una capa (DIV) con la clase &quot;.ayuda&quot;, en la que colocaremos el titular &quot;Autor&quot;, seguido por unos párrafos con los datos del autor.</p>
<p>Por último añadiremos los estilos CSS que hemos definido dentro de la sección de estilos del fichero <em>index.html</em>:</p>
<ul>
<li><p><em>.ayuda</em>: tendrá un ancho del 100% y el texto centrado.</p>
</li>
<li><p><em>.ayuda h1</em>: la etiqueta H1 (cuando esté dentro de la clase &quot;ayuda&quot;) la definiremos con un color azul oscuro (<em>color: navy</em>), un tamaño de letra de 18 puntos y el estilo &quot;uppercase&quot; para que aparezca siempre en mayúsculas (<em>text-transform: uppercase</em>).</p>
</li>
<li><p><em>.ayuda p</em>: la etiqueta P la definiremos para que tenga color gris (gray).</p>
</li>
</ul>
<!-- ********************************************************************* -->
<h2 id="ejercicio-3---panel-con-formulario-1-punto">Ejercicio 3 - Panel con Formulario (1 punto)</h2>
<p>En este último ejercicio vamos a crear el formulario. Para esto editamos el panel <code>panelFormulario</code> que ya teníamos hecho y le cambiamos el constructor de panel por uno de tipo formulario. Además tenemos que quitar también los campos <code>layout: fit</code> y el texto HTML que teníamos puesto de prueba. En este formulario vamos a añadir dos campos al array de <code>items</code> (además de las dos barras de herramientas que ya teníamos):</p>
<ul>
<li><p>Un campo de texto con el nombre <code>title</code>, con la etiqueta &quot;Título:&quot; y activaremos la opción de requerido.</p>
</li>
<li><p>Un área de texto con nombre <code>text</code>, etiqueta &quot;Texto:&quot; y que también sea requerido.</p>
</li>
</ul>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="./capitulo_sencha_touch_1.html" class="navigation navigation-prev " aria-label="Previous page: Sencha Touch 1. Introducción"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="./capitulo_sencha_touch_3.html" class="navigation navigation-next " aria-label="Next page: Sencha Touch 3. Almacenamiento"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="gitbook/app.js"></script>

    
    <script src="https://cdn.mathjax.org/mathjax/2.4-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
